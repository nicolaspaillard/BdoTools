import{a as Ct,b as ti,h as ii}from"./chunk-DXXM72XS.js";import{c as ni,d as At,g as Mt,h as Rt}from"./chunk-P3FDTIMD.js";import{a as kt,b as at,c as Tt,d as ot,e as $e,f as je,g as st,i as lt,j as ri,k as ct,l as ai,m as It,n as oi}from"./chunk-DFKP3WOP.js";import{$a as Y,Ab as ye,Bb as vt,Cb as fe,Db as he,Eb as Yt,Fb as Le,Gb as Qe,Hb as Kt,Ia as Zt,Ib as Xt,Ja as mt,Jb as tt,Lb as Ge,Ma as Z,Mb as yt,Na as He,Nb as Jt,Ob as ei,Pb as gt,Q as Ye,R as Ke,Ra as Dt,Ta as Wt,Ub as Ie,Vb as it,W as Me,Wa as Se,Xa as Je,Ya as zt,Za as De,_a as Re,c as ft,ca as ue,da as pe,e as Ii,ea as Xe,f as Si,fa as ke,gb as le,hb as R,ib as et,ic as nt,jb as Qt,jc as wt,ka as be,kb as Te,kc as Pe,la as ht,lb as Ce,lc as xt,mb as Ot,mc as rt,nb as Bt,nc as Ne,oa as Ft,ob as Ut,pb as ee,pc as Lt,qb as ie,rb as se,sb as Ze,tb as We,ub as ze,vb as Ee,wb as ve,xb as Q,yb as Gt,zb as qt}from"./chunk-ZAPM4TD6.js";var li=Ii((si,Pt)=>{"use strict";(function(t){typeof si=="object"&&typeof Pt<"u"?Pt.exports=t():typeof define=="function"&&define.amd?define([],t):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).JSZip=t()})(function(){return function t(_,e,n){function r(y,w){if(!e[y]){if(!_[y]){var g=typeof ft=="function"&&ft;if(!w&&g)return g(y,!0);if(a)return a(y,!0);var b=new Error("Cannot find module '"+y+"'");throw b.code="MODULE_NOT_FOUND",b}var c=e[y]={exports:{}};_[y][0].call(c.exports,function(h){var l=_[y][1][h];return r(l||h)},c,c.exports,t,_,e,n)}return e[y].exports}for(var a=typeof ft=="function"&&ft,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,_,e){"use strict";var n=t("./utils"),r=t("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(s){for(var y,w,g,b,c,h,l,p=[],d=0,m=s.length,x=m,T=n.getTypeOf(s)!=="string";d<s.length;)x=m-d,g=T?(y=s[d++],w=d<m?s[d++]:0,d<m?s[d++]:0):(y=s.charCodeAt(d++),w=d<m?s.charCodeAt(d++):0,d<m?s.charCodeAt(d++):0),b=y>>2,c=(3&y)<<4|w>>4,h=1<x?(15&w)<<2|g>>6:64,l=2<x?63&g:64,p.push(a.charAt(b)+a.charAt(c)+a.charAt(h)+a.charAt(l));return p.join("")},e.decode=function(s){var y,w,g,b,c,h,l=0,p=0,d="data:";if(s.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var m,x=3*(s=s.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(s.charAt(s.length-1)===a.charAt(64)&&x--,s.charAt(s.length-2)===a.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(m=r.uint8array?new Uint8Array(0|x):new Array(0|x);l<s.length;)y=a.indexOf(s.charAt(l++))<<2|(b=a.indexOf(s.charAt(l++)))>>4,w=(15&b)<<4|(c=a.indexOf(s.charAt(l++)))>>2,g=(3&c)<<6|(h=a.indexOf(s.charAt(l++))),m[p++]=y,c!==64&&(m[p++]=w),h!==64&&(m[p++]=g);return m}},{"./support":30,"./utils":32}],2:[function(t,_,e){"use strict";var n=t("./external"),r=t("./stream/DataWorker"),a=t("./stream/Crc32Probe"),s=t("./stream/DataLengthProbe");function y(w,g,b,c,h){this.compressedSize=w,this.uncompressedSize=g,this.crc32=b,this.compression=c,this.compressedContent=h}y.prototype={getContentWorker:function(){var w=new r(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),g=this;return w.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),w},getCompressedWorker:function(){return new r(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},y.createWorkerFrom=function(w,g,b){return w.pipe(new a).pipe(new s("uncompressedSize")).pipe(g.compressWorker(b)).pipe(new s("compressedSize")).withStreamInfo("compression",g)},_.exports=y},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,_,e){"use strict";var n=t("./stream/GenericWorker");e.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},e.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,_,e){"use strict";var n=t("./utils"),r=function(){for(var a,s=[],y=0;y<256;y++){a=y;for(var w=0;w<8;w++)a=1&a?3988292384^a>>>1:a>>>1;s[y]=a}return s}();_.exports=function(a,s){return a!==void 0&&a.length?n.getTypeOf(a)!=="string"?function(y,w,g,b){var c=r,h=b+g;y^=-1;for(var l=b;l<h;l++)y=y>>>8^c[255&(y^w[l])];return-1^y}(0|s,a,a.length,0):function(y,w,g,b){var c=r,h=b+g;y^=-1;for(var l=b;l<h;l++)y=y>>>8^c[255&(y^w.charCodeAt(l))];return-1^y}(0|s,a,a.length,0):0}},{"./utils":32}],5:[function(t,_,e){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!0,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},{}],6:[function(t,_,e){"use strict";var n=null;n=typeof Promise<"u"?Promise:t("lie"),_.exports={Promise:n}},{lie:37}],7:[function(t,_,e){"use strict";var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",r=t("pako"),a=t("./utils"),s=t("./stream/GenericWorker"),y=n?"uint8array":"array";function w(g,b){s.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=b,this.meta={}}e.magic="\b\0",a.inherits(w,s),w.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(y,g.data),!1)},w.prototype.flush=function(){s.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},w.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},w.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(b){g.push({data:b,meta:g.meta})}},e.compressWorker=function(g){return new w("Deflate",g)},e.uncompressWorker=function(){return new w("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,_,e){"use strict";function n(c,h){var l,p="";for(l=0;l<h;l++)p+=String.fromCharCode(255&c),c>>>=8;return p}function r(c,h,l,p,d,m){var x,T,k=c.file,L=c.compression,z=m!==y.utf8encode,N=a.transformTo("string",m(k.name)),D=a.transformTo("string",y.utf8encode(k.name)),H=k.comment,J=a.transformTo("string",m(H)),v=a.transformTo("string",y.utf8encode(H)),O=D.length!==k.name.length,o=v.length!==H.length,U="",ne="",P="",re=k.dir,$=k.date,te={crc32:0,compressedSize:0,uncompressedSize:0};h&&!l||(te.crc32=c.crc32,te.compressedSize=c.compressedSize,te.uncompressedSize=c.uncompressedSize);var E=0;h&&(E|=8),z||!O&&!o||(E|=2048);var S=0,X=0;re&&(S|=16),d==="UNIX"?(X=798,S|=function(W,me){var xe=W;return W||(xe=me?16893:33204),(65535&xe)<<16}(k.unixPermissions,re)):(X=20,S|=function(W){return 63&(W||0)}(k.dosPermissions)),x=$.getUTCHours(),x<<=6,x|=$.getUTCMinutes(),x<<=5,x|=$.getUTCSeconds()/2,T=$.getUTCFullYear()-1980,T<<=4,T|=$.getUTCMonth()+1,T<<=5,T|=$.getUTCDate(),O&&(ne=n(1,1)+n(w(N),4)+D,U+="up"+n(ne.length,2)+ne),o&&(P=n(1,1)+n(w(J),4)+v,U+="uc"+n(P.length,2)+P);var G="";return G+=`
\0`,G+=n(E,2),G+=L.magic,G+=n(x,2),G+=n(T,2),G+=n(te.crc32,4),G+=n(te.compressedSize,4),G+=n(te.uncompressedSize,4),G+=n(N.length,2),G+=n(U.length,2),{fileRecord:g.LOCAL_FILE_HEADER+G+N+U,dirRecord:g.CENTRAL_FILE_HEADER+n(X,2)+G+n(J.length,2)+"\0\0\0\0"+n(S,4)+n(p,4)+N+U+J}}var a=t("../utils"),s=t("../stream/GenericWorker"),y=t("../utf8"),w=t("../crc32"),g=t("../signature");function b(c,h,l,p){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=h,this.zipPlatform=l,this.encodeFileName=p,this.streamFiles=c,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(b,s),b.prototype.push=function(c){var h=c.meta.percent||0,l=this.entriesCount,p=this._sources.length;this.accumulate?this.contentBuffer.push(c):(this.bytesWritten+=c.data.length,s.prototype.push.call(this,{data:c.data,meta:{currentFile:this.currentFile,percent:l?(h+100*(l-p-1))/l:100}}))},b.prototype.openedSource=function(c){this.currentSourceOffset=this.bytesWritten,this.currentFile=c.file.name;var h=this.streamFiles&&!c.file.dir;if(h){var l=r(c,h,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:l.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(c){this.accumulate=!1;var h=this.streamFiles&&!c.file.dir,l=r(c,h,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(l.dirRecord),h)this.push({data:function(p){return g.DATA_DESCRIPTOR+n(p.crc32,4)+n(p.compressedSize,4)+n(p.uncompressedSize,4)}(c),meta:{percent:100}});else for(this.push({data:l.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var c=this.bytesWritten,h=0;h<this.dirRecords.length;h++)this.push({data:this.dirRecords[h],meta:{percent:100}});var l=this.bytesWritten-c,p=function(d,m,x,T,k){var L=a.transformTo("string",k(T));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(d,2)+n(d,2)+n(m,4)+n(x,4)+n(L.length,2)+L}(this.dirRecords.length,l,c,this.zipComment,this.encodeFileName);this.push({data:p,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(c){this._sources.push(c);var h=this;return c.on("data",function(l){h.processChunk(l)}),c.on("end",function(){h.closedSource(h.previous.streamInfo),h._sources.length?h.prepareNextSource():h.end()}),c.on("error",function(l){h.error(l)}),this},b.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(c){var h=this._sources;if(!s.prototype.error.call(this,c))return!1;for(var l=0;l<h.length;l++)try{h[l].error(c)}catch{}return!0},b.prototype.lock=function(){s.prototype.lock.call(this);for(var c=this._sources,h=0;h<c.length;h++)c[h].lock()},_.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,_,e){"use strict";var n=t("../compressions"),r=t("./ZipFileWorker");e.generateWorker=function(a,s,y){var w=new r(s.streamFiles,y,s.platform,s.encodeFileName),g=0;try{a.forEach(function(b,c){g++;var h=function(m,x){var T=m||x,k=n[T];if(!k)throw new Error(T+" is not a valid compression method !");return k}(c.options.compression,s.compression),l=c.options.compressionOptions||s.compressionOptions||{},p=c.dir,d=c.date;c._compressWorker(h,l).withStreamInfo("file",{name:b,dir:p,date:d,comment:c.comment||"",unixPermissions:c.unixPermissions,dosPermissions:c.dosPermissions}).pipe(w)}),w.entriesCount=g}catch(b){w.error(b)}return w}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,_,e){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var r=new n;for(var a in this)typeof this[a]!="function"&&(r[a]=this[a]);return r}}(n.prototype=t("./object")).loadAsync=t("./load"),n.support=t("./support"),n.defaults=t("./defaults"),n.version="3.10.1",n.loadAsync=function(r,a){return new n().loadAsync(r,a)},n.external=t("./external"),_.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,_,e){"use strict";var n=t("./utils"),r=t("./external"),a=t("./utf8"),s=t("./zipEntries"),y=t("./stream/Crc32Probe"),w=t("./nodejsUtils");function g(b){return new r.Promise(function(c,h){var l=b.decompressed.getContentWorker().pipe(new y);l.on("error",function(p){h(p)}).on("end",function(){l.streamInfo.crc32!==b.decompressed.crc32?h(new Error("Corrupted zip : CRC32 mismatch")):c()}).resume()})}_.exports=function(b,c){var h=this;return c=n.extend(c||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),w.isNode&&w.isStream(b)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",b,!0,c.optimizedBinaryString,c.base64).then(function(l){var p=new s(c);return p.load(l),p}).then(function(l){var p=[r.Promise.resolve(l)],d=l.files;if(c.checkCRC32)for(var m=0;m<d.length;m++)p.push(g(d[m]));return r.Promise.all(p)}).then(function(l){for(var p=l.shift(),d=p.files,m=0;m<d.length;m++){var x=d[m],T=x.fileNameStr,k=n.resolve(x.fileNameStr);h.file(k,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:c.createFolders}),x.dir||(h.file(k).unsafeOriginalName=T)}return p.zipComment.length&&(h.comment=p.zipComment),h})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,_,e){"use strict";var n=t("../utils"),r=t("../stream/GenericWorker");function a(s,y){r.call(this,"Nodejs stream input adapter for "+s),this._upstreamEnded=!1,this._bindStream(y)}n.inherits(a,r),a.prototype._bindStream=function(s){var y=this;(this._stream=s).pause(),s.on("data",function(w){y.push({data:w,meta:{percent:0}})}).on("error",function(w){y.isPaused?this.generatedError=w:y.error(w)}).on("end",function(){y.isPaused?y._upstreamEnded=!0:y.end()})},a.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},_.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,_,e){"use strict";var n=t("readable-stream").Readable;function r(a,s,y){n.call(this,s),this._helper=a;var w=this;a.on("data",function(g,b){w.push(g)||w._helper.pause(),y&&y(b)}).on("error",function(g){w.emit("error",g)}).on("end",function(){w.push(null)})}t("../utils").inherits(r,n),r.prototype._read=function(){this._helper.resume()},_.exports=r},{"../utils":32,"readable-stream":16}],14:[function(t,_,e){"use strict";_.exports={isNode:typeof Buffer<"u",newBufferFrom:function(n,r){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(n,r);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new Buffer(n,r)},allocBuffer:function(n){if(Buffer.alloc)return Buffer.alloc(n);var r=new Buffer(n);return r.fill(0),r},isBuffer:function(n){return Buffer.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(t,_,e){"use strict";function n(k,L,z){var N,D=a.getTypeOf(L),H=a.extend(z||{},w);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(k=d(k)),H.createFolders&&(N=p(k))&&m.call(this,N,!0);var J=D==="string"&&H.binary===!1&&H.base64===!1;z&&z.binary!==void 0||(H.binary=!J),(L instanceof g&&L.uncompressedSize===0||H.dir||!L||L.length===0)&&(H.base64=!1,H.binary=!0,L="",H.compression="STORE",D="string");var v=null;v=L instanceof g||L instanceof s?L:h.isNode&&h.isStream(L)?new l(k,L):a.prepareContent(k,L,H.binary,H.optimizedBinaryString,H.base64);var O=new b(k,v,H);this.files[k]=O}var r=t("./utf8"),a=t("./utils"),s=t("./stream/GenericWorker"),y=t("./stream/StreamHelper"),w=t("./defaults"),g=t("./compressedObject"),b=t("./zipObject"),c=t("./generate"),h=t("./nodejsUtils"),l=t("./nodejs/NodejsStreamInputAdapter"),p=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var L=k.lastIndexOf("/");return 0<L?k.substring(0,L):""},d=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},m=function(k,L){return L=L!==void 0?L:w.createFolders,k=d(k),this.files[k]||n.call(this,k,null,{dir:!0,createFolders:L}),this.files[k]};function x(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var L,z,N;for(L in this.files)N=this.files[L],(z=L.slice(this.root.length,L.length))&&L.slice(0,this.root.length)===this.root&&k(z,N)},filter:function(k){var L=[];return this.forEach(function(z,N){k(z,N)&&L.push(N)}),L},file:function(k,L,z){if(arguments.length!==1)return k=this.root+k,n.call(this,k,L,z),this;if(x(k)){var N=k;return this.filter(function(H,J){return!J.dir&&N.test(H)})}var D=this.files[this.root+k];return D&&!D.dir?D:null},folder:function(k){if(!k)return this;if(x(k))return this.filter(function(D,H){return H.dir&&k.test(D)});var L=this.root+k,z=m.call(this,L),N=this.clone();return N.root=z.name,N},remove:function(k){k=this.root+k;var L=this.files[k];if(L||(k.slice(-1)!=="/"&&(k+="/"),L=this.files[k]),L&&!L.dir)delete this.files[k];else for(var z=this.filter(function(D,H){return H.name.slice(0,k.length)===k}),N=0;N<z.length;N++)delete this.files[z[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var L,z={};try{if((z=a.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=z.type.toLowerCase(),z.compression=z.compression.toUpperCase(),z.type==="binarystring"&&(z.type="string"),!z.type)throw new Error("No output type specified.");a.checkSupport(z.type),z.platform!=="darwin"&&z.platform!=="freebsd"&&z.platform!=="linux"&&z.platform!=="sunos"||(z.platform="UNIX"),z.platform==="win32"&&(z.platform="DOS");var N=z.comment||this.comment||"";L=c.generateWorker(this,z,N)}catch(D){(L=new s("error")).error(D)}return new y(L,z.type||"string",z.mimeType)},generateAsync:function(k,L){return this.generateInternalStream(k).accumulate(L)},generateNodeStream:function(k,L){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(L)}};_.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,_,e){"use strict";_.exports=t("stream")},{stream:void 0}],17:[function(t,_,e){"use strict";var n=t("./DataReader");function r(a){n.call(this,a);for(var s=0;s<this.data.length;s++)a[s]=255&a[s]}t("../utils").inherits(r,n),r.prototype.byteAt=function(a){return this.data[this.zero+a]},r.prototype.lastIndexOfSignature=function(a){for(var s=a.charCodeAt(0),y=a.charCodeAt(1),w=a.charCodeAt(2),g=a.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===s&&this.data[b+1]===y&&this.data[b+2]===w&&this.data[b+3]===g)return b-this.zero;return-1},r.prototype.readAndCheckSignature=function(a){var s=a.charCodeAt(0),y=a.charCodeAt(1),w=a.charCodeAt(2),g=a.charCodeAt(3),b=this.readData(4);return s===b[0]&&y===b[1]&&w===b[2]&&g===b[3]},r.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var s=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,s},_.exports=r},{"../utils":32,"./DataReader":18}],18:[function(t,_,e){"use strict";var n=t("../utils");function r(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var s,y=0;for(this.checkOffset(a),s=this.index+a-1;s>=this.index;s--)y=(y<<8)+this.byteAt(s);return this.index+=a,y},readString:function(a){return n.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},_.exports=r},{"../utils":32}],19:[function(t,_,e){"use strict";var n=t("./Uint8ArrayReader");function r(a){n.call(this,a)}t("../utils").inherits(r,n),r.prototype.readData=function(a){this.checkOffset(a);var s=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,s},_.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,_,e){"use strict";var n=t("./DataReader");function r(a){n.call(this,a)}t("../utils").inherits(r,n),r.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},r.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},r.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},r.prototype.readData=function(a){this.checkOffset(a);var s=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,s},_.exports=r},{"../utils":32,"./DataReader":18}],21:[function(t,_,e){"use strict";var n=t("./ArrayReader");function r(a){n.call(this,a)}t("../utils").inherits(r,n),r.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var s=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,s},_.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(t,_,e){"use strict";var n=t("../utils"),r=t("../support"),a=t("./ArrayReader"),s=t("./StringReader"),y=t("./NodeBufferReader"),w=t("./Uint8ArrayReader");_.exports=function(g){var b=n.getTypeOf(g);return n.checkSupport(b),b!=="string"||r.uint8array?b==="nodebuffer"?new y(g):r.uint8array?new w(n.transformTo("uint8array",g)):new a(n.transformTo("array",g)):new s(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,_,e){"use strict";e.LOCAL_FILE_HEADER="PK",e.CENTRAL_FILE_HEADER="PK",e.CENTRAL_DIRECTORY_END="PK",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",e.ZIP64_CENTRAL_DIRECTORY_END="PK",e.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,_,e){"use strict";var n=t("./GenericWorker"),r=t("../utils");function a(s){n.call(this,"ConvertWorker to "+s),this.destType=s}r.inherits(a,n),a.prototype.processChunk=function(s){this.push({data:r.transformTo(this.destType,s.data),meta:s.meta})},_.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(t,_,e){"use strict";var n=t("./GenericWorker"),r=t("../crc32");function a(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(a,n),a.prototype.processChunk=function(s){this.streamInfo.crc32=r(s.data,this.streamInfo.crc32||0),this.push(s)},_.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,_,e){"use strict";var n=t("../utils"),r=t("./GenericWorker");function a(s){r.call(this,"DataLengthProbe for "+s),this.propName=s,this.withStreamInfo(s,0)}n.inherits(a,r),a.prototype.processChunk=function(s){if(s){var y=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=y+s.data.length}r.prototype.processChunk.call(this,s)},_.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(t,_,e){"use strict";var n=t("../utils"),r=t("./GenericWorker");function a(s){r.call(this,"DataWorker");var y=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,s.then(function(w){y.dataIsReady=!0,y.data=w,y.max=w&&w.length||0,y.type=n.getTypeOf(w),y.isPaused||y._tickAndRepeat()},function(w){y.error(w)})}n.inherits(a,r),a.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var s=null,y=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":s=this.data.substring(this.index,y);break;case"uint8array":s=this.data.subarray(this.index,y);break;case"array":case"nodebuffer":s=this.data.slice(this.index,y)}return this.index=y,this.push({data:s,meta:{percent:this.max?this.index/this.max*100:0}})},_.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(t,_,e){"use strict";function n(r){this.name=r||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(r){this.emit("data",r)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(r){this.emit("error",r)}return!0},error:function(r){return!this.isFinished&&(this.isPaused?this.generatedError=r:(this.isFinished=!0,this.emit("error",r),this.previous&&this.previous.error(r),this.cleanUp()),!0)},on:function(r,a){return this._listeners[r].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(r,a){if(this._listeners[r])for(var s=0;s<this._listeners[r].length;s++)this._listeners[r][s].call(this,a)},pipe:function(r){return r.registerPrevious(this)},registerPrevious:function(r){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=r.streamInfo,this.mergeStreamInfo(),this.previous=r;var a=this;return r.on("data",function(s){a.processChunk(s)}),r.on("end",function(){a.end()}),r.on("error",function(s){a.error(s)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var r=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),r=!0),this.previous&&this.previous.resume(),!r},flush:function(){},processChunk:function(r){this.push(r)},withStreamInfo:function(r,a){return this.extraStreamInfo[r]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var r in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,r)&&(this.streamInfo[r]=this.extraStreamInfo[r])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var r="Worker "+this.name;return this.previous?this.previous+" -> "+r:r}},_.exports=n},{}],29:[function(t,_,e){"use strict";var n=t("../utils"),r=t("./ConvertWorker"),a=t("./GenericWorker"),s=t("../base64"),y=t("../support"),w=t("../external"),g=null;if(y.nodestream)try{g=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(h,l){return new w.Promise(function(p,d){var m=[],x=h._internalType,T=h._outputType,k=h._mimeType;h.on("data",function(L,z){m.push(L),l&&l(z)}).on("error",function(L){m=[],d(L)}).on("end",function(){try{var L=function(z,N,D){switch(z){case"blob":return n.newBlob(n.transformTo("arraybuffer",N),D);case"base64":return s.encode(N);default:return n.transformTo(z,N)}}(T,function(z,N){var D,H=0,J=null,v=0;for(D=0;D<N.length;D++)v+=N[D].length;switch(z){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(J=new Uint8Array(v),D=0;D<N.length;D++)J.set(N[D],H),H+=N[D].length;return J;case"nodebuffer":return Buffer.concat(N);default:throw new Error("concat : unsupported type '"+z+"'")}}(x,m),k);p(L)}catch(z){d(z)}m=[]}).resume()})}function c(h,l,p){var d=l;switch(l){case"blob":case"arraybuffer":d="uint8array";break;case"base64":d="string"}try{this._internalType=d,this._outputType=l,this._mimeType=p,n.checkSupport(d),this._worker=h.pipe(new r(d)),h.lock()}catch(m){this._worker=new a("error"),this._worker.error(m)}}c.prototype={accumulate:function(h){return b(this,h)},on:function(h,l){var p=this;return h==="data"?this._worker.on(h,function(d){l.call(p,d.data,d.meta)}):this._worker.on(h,function(){n.delay(l,arguments,p)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(h){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},h)}},_.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,_,e){"use strict";if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",e.nodebuffer=typeof Buffer<"u",e.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")e.blob=!1;else{var n=new ArrayBuffer(0);try{e.blob=new Blob([n],{type:"application/zip"}).size===0}catch{try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(n),e.blob=r.getBlob("application/zip").size===0}catch{e.blob=!1}}}try{e.nodestream=!!t("readable-stream").Readable}catch{e.nodestream=!1}},{"readable-stream":16}],31:[function(t,_,e){"use strict";for(var n=t("./utils"),r=t("./support"),a=t("./nodejsUtils"),s=t("./stream/GenericWorker"),y=new Array(256),w=0;w<256;w++)y[w]=252<=w?6:248<=w?5:240<=w?4:224<=w?3:192<=w?2:1;y[254]=y[254]=1;function g(){s.call(this,"utf-8 decode"),this.leftOver=null}function b(){s.call(this,"utf-8 encode")}e.utf8encode=function(c){return r.nodebuffer?a.newBufferFrom(c,"utf-8"):function(h){var l,p,d,m,x,T=h.length,k=0;for(m=0;m<T;m++)(64512&(p=h.charCodeAt(m)))==55296&&m+1<T&&(64512&(d=h.charCodeAt(m+1)))==56320&&(p=65536+(p-55296<<10)+(d-56320),m++),k+=p<128?1:p<2048?2:p<65536?3:4;for(l=r.uint8array?new Uint8Array(k):new Array(k),m=x=0;x<k;m++)(64512&(p=h.charCodeAt(m)))==55296&&m+1<T&&(64512&(d=h.charCodeAt(m+1)))==56320&&(p=65536+(p-55296<<10)+(d-56320),m++),p<128?l[x++]=p:(p<2048?l[x++]=192|p>>>6:(p<65536?l[x++]=224|p>>>12:(l[x++]=240|p>>>18,l[x++]=128|p>>>12&63),l[x++]=128|p>>>6&63),l[x++]=128|63&p);return l}(c)},e.utf8decode=function(c){return r.nodebuffer?n.transformTo("nodebuffer",c).toString("utf-8"):function(h){var l,p,d,m,x=h.length,T=new Array(2*x);for(l=p=0;l<x;)if((d=h[l++])<128)T[p++]=d;else if(4<(m=y[d]))T[p++]=65533,l+=m-1;else{for(d&=m===2?31:m===3?15:7;1<m&&l<x;)d=d<<6|63&h[l++],m--;1<m?T[p++]=65533:d<65536?T[p++]=d:(d-=65536,T[p++]=55296|d>>10&1023,T[p++]=56320|1023&d)}return T.length!==p&&(T.subarray?T=T.subarray(0,p):T.length=p),n.applyFromCharCode(T)}(c=n.transformTo(r.uint8array?"uint8array":"array",c))},n.inherits(g,s),g.prototype.processChunk=function(c){var h=n.transformTo(r.uint8array?"uint8array":"array",c.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var l=h;(h=new Uint8Array(l.length+this.leftOver.length)).set(this.leftOver,0),h.set(l,this.leftOver.length)}else h=this.leftOver.concat(h);this.leftOver=null}var p=function(m,x){var T;for((x=x||m.length)>m.length&&(x=m.length),T=x-1;0<=T&&(192&m[T])==128;)T--;return T<0||T===0?x:T+y[m[T]]>x?T:x}(h),d=h;p!==h.length&&(r.uint8array?(d=h.subarray(0,p),this.leftOver=h.subarray(p,h.length)):(d=h.slice(0,p),this.leftOver=h.slice(p,h.length))),this.push({data:e.utf8decode(d),meta:c.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:e.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},e.Utf8DecodeWorker=g,n.inherits(b,s),b.prototype.processChunk=function(c){this.push({data:e.utf8encode(c.data),meta:c.meta})},e.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,_,e){"use strict";var n=t("./support"),r=t("./base64"),a=t("./nodejsUtils"),s=t("./external");function y(l){return l}function w(l,p){for(var d=0;d<l.length;++d)p[d]=255&l.charCodeAt(d);return p}t("setimmediate"),e.newBlob=function(l,p){e.checkSupport("blob");try{return new Blob([l],{type:p})}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return d.append(l),d.getBlob(p)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(l,p,d){var m=[],x=0,T=l.length;if(T<=d)return String.fromCharCode.apply(null,l);for(;x<T;)p==="array"||p==="nodebuffer"?m.push(String.fromCharCode.apply(null,l.slice(x,Math.min(x+d,T)))):m.push(String.fromCharCode.apply(null,l.subarray(x,Math.min(x+d,T)))),x+=d;return m.join("")},stringifyByChar:function(l){for(var p="",d=0;d<l.length;d++)p+=String.fromCharCode(l[d]);return p},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function b(l){var p=65536,d=e.getTypeOf(l),m=!0;if(d==="uint8array"?m=g.applyCanBeUsed.uint8array:d==="nodebuffer"&&(m=g.applyCanBeUsed.nodebuffer),m)for(;1<p;)try{return g.stringifyByChunk(l,d,p)}catch{p=Math.floor(p/2)}return g.stringifyByChar(l)}function c(l,p){for(var d=0;d<l.length;d++)p[d]=l[d];return p}e.applyFromCharCode=b;var h={};h.string={string:y,array:function(l){return w(l,new Array(l.length))},arraybuffer:function(l){return h.string.uint8array(l).buffer},uint8array:function(l){return w(l,new Uint8Array(l.length))},nodebuffer:function(l){return w(l,a.allocBuffer(l.length))}},h.array={string:b,array:y,arraybuffer:function(l){return new Uint8Array(l).buffer},uint8array:function(l){return new Uint8Array(l)},nodebuffer:function(l){return a.newBufferFrom(l)}},h.arraybuffer={string:function(l){return b(new Uint8Array(l))},array:function(l){return c(new Uint8Array(l),new Array(l.byteLength))},arraybuffer:y,uint8array:function(l){return new Uint8Array(l)},nodebuffer:function(l){return a.newBufferFrom(new Uint8Array(l))}},h.uint8array={string:b,array:function(l){return c(l,new Array(l.length))},arraybuffer:function(l){return l.buffer},uint8array:y,nodebuffer:function(l){return a.newBufferFrom(l)}},h.nodebuffer={string:b,array:function(l){return c(l,new Array(l.length))},arraybuffer:function(l){return h.nodebuffer.uint8array(l).buffer},uint8array:function(l){return c(l,new Uint8Array(l.length))},nodebuffer:y},e.transformTo=function(l,p){if(p=p||"",!l)return p;e.checkSupport(l);var d=e.getTypeOf(p);return h[d][l](p)},e.resolve=function(l){for(var p=l.split("/"),d=[],m=0;m<p.length;m++){var x=p[m];x==="."||x===""&&m!==0&&m!==p.length-1||(x===".."?d.pop():d.push(x))}return d.join("/")},e.getTypeOf=function(l){return typeof l=="string"?"string":Object.prototype.toString.call(l)==="[object Array]"?"array":n.nodebuffer&&a.isBuffer(l)?"nodebuffer":n.uint8array&&l instanceof Uint8Array?"uint8array":n.arraybuffer&&l instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(l){if(!n[l.toLowerCase()])throw new Error(l+" is not supported by this platform")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(l){var p,d,m="";for(d=0;d<(l||"").length;d++)m+="\\x"+((p=l.charCodeAt(d))<16?"0":"")+p.toString(16).toUpperCase();return m},e.delay=function(l,p,d){setImmediate(function(){l.apply(d||null,p||[])})},e.inherits=function(l,p){function d(){}d.prototype=p.prototype,l.prototype=new d},e.extend=function(){var l,p,d={};for(l=0;l<arguments.length;l++)for(p in arguments[l])Object.prototype.hasOwnProperty.call(arguments[l],p)&&d[p]===void 0&&(d[p]=arguments[l][p]);return d},e.prepareContent=function(l,p,d,m,x){return s.Promise.resolve(p).then(function(T){return n.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new s.Promise(function(k,L){var z=new FileReader;z.onload=function(N){k(N.target.result)},z.onerror=function(N){L(N.target.error)},z.readAsArrayBuffer(T)}):T}).then(function(T){var k=e.getTypeOf(T);return k?(k==="arraybuffer"?T=e.transformTo("uint8array",T):k==="string"&&(x?T=r.decode(T):d&&m!==!0&&(T=function(L){return w(L,n.uint8array?new Uint8Array(L.length):new Array(L.length))}(T))),T):s.Promise.reject(new Error("Can't read the data of '"+l+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,_,e){"use strict";var n=t("./reader/readerFor"),r=t("./utils"),a=t("./signature"),s=t("./zipEntry"),y=t("./support");function w(g){this.files=[],this.loadOptions=g}w.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(b)+", expected "+r.pretty(g)+")")}},isSignature:function(g,b){var c=this.reader.index;this.reader.setIndex(g);var h=this.reader.readString(4)===b;return this.reader.setIndex(c),h},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),b=y.uint8array?"uint8array":"array",c=r.transformTo(b,g);this.zipComment=this.loadOptions.decodeFileName(c)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,b,c,h=this.zip64EndOfCentralSize-44;0<h;)g=this.reader.readInt(2),b=this.reader.readInt(4),c=this.reader.readData(b),this.zip64ExtensibleData[g]={id:g,length:b,value:c}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,b;for(g=0;g<this.files.length;g++)b=this.files[g],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(g=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var b=g;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var c=this.centralDirOffset+this.centralDirSize;this.zip64&&(c+=20,c+=12+this.zip64EndOfCentralSize);var h=b-c;if(0<h)this.isSignature(b,a.CENTRAL_FILE_HEADER)||(this.reader.zero=h);else if(h<0)throw new Error("Corrupted zip: missing "+Math.abs(h)+" bytes.")},prepareReader:function(g){this.reader=n(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},_.exports=w},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,_,e){"use strict";var n=t("./reader/readerFor"),r=t("./utils"),a=t("./compressedObject"),s=t("./crc32"),y=t("./utf8"),w=t("./compressions"),g=t("./support");function b(c,h){this.options=c,this.loadOptions=h}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(c){var h,l;if(c.skip(22),this.fileNameLength=c.readInt(2),l=c.readInt(2),this.fileName=c.readData(this.fileNameLength),c.skip(l),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((h=function(p){for(var d in w)if(Object.prototype.hasOwnProperty.call(w,d)&&w[d].magic===p)return w[d];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,h,c.readData(this.compressedSize))},readCentralPart:function(c){this.versionMadeBy=c.readInt(2),c.skip(2),this.bitFlag=c.readInt(2),this.compressionMethod=c.readString(2),this.date=c.readDate(),this.crc32=c.readInt(4),this.compressedSize=c.readInt(4),this.uncompressedSize=c.readInt(4);var h=c.readInt(2);if(this.extraFieldsLength=c.readInt(2),this.fileCommentLength=c.readInt(2),this.diskNumberStart=c.readInt(2),this.internalFileAttributes=c.readInt(2),this.externalFileAttributes=c.readInt(4),this.localHeaderOffset=c.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");c.skip(h),this.readExtraFields(c),this.parseZIP64ExtraField(c),this.fileComment=c.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var c=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),c==0&&(this.dosPermissions=63&this.externalFileAttributes),c==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var c=n(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=c.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=c.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=c.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=c.readInt(4))}},readExtraFields:function(c){var h,l,p,d=c.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});c.index+4<d;)h=c.readInt(2),l=c.readInt(2),p=c.readData(l),this.extraFields[h]={id:h,length:l,value:p};c.setIndex(d)},handleUTF8:function(){var c=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=y.utf8decode(this.fileName),this.fileCommentStr=y.utf8decode(this.fileComment);else{var h=this.findExtraFieldUnicodePath();if(h!==null)this.fileNameStr=h;else{var l=r.transformTo(c,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(l)}var p=this.findExtraFieldUnicodeComment();if(p!==null)this.fileCommentStr=p;else{var d=r.transformTo(c,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(d)}}},findExtraFieldUnicodePath:function(){var c=this.extraFields[28789];if(c){var h=n(c.value);return h.readInt(1)!==1||s(this.fileName)!==h.readInt(4)?null:y.utf8decode(h.readData(c.length-5))}return null},findExtraFieldUnicodeComment:function(){var c=this.extraFields[25461];if(c){var h=n(c.value);return h.readInt(1)!==1||s(this.fileComment)!==h.readInt(4)?null:y.utf8decode(h.readData(c.length-5))}return null}},_.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,_,e){"use strict";function n(h,l,p){this.name=h,this.dir=p.dir,this.date=p.date,this.comment=p.comment,this.unixPermissions=p.unixPermissions,this.dosPermissions=p.dosPermissions,this._data=l,this._dataBinary=p.binary,this.options={compression:p.compression,compressionOptions:p.compressionOptions}}var r=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),s=t("./utf8"),y=t("./compressedObject"),w=t("./stream/GenericWorker");n.prototype={internalStream:function(h){var l=null,p="string";try{if(!h)throw new Error("No output type specified.");var d=(p=h.toLowerCase())==="string"||p==="text";p!=="binarystring"&&p!=="text"||(p="string"),l=this._decompressWorker();var m=!this._dataBinary;m&&!d&&(l=l.pipe(new s.Utf8EncodeWorker)),!m&&d&&(l=l.pipe(new s.Utf8DecodeWorker))}catch(x){(l=new w("error")).error(x)}return new r(l,p,"")},async:function(h,l){return this.internalStream(h).accumulate(l)},nodeStream:function(h,l){return this.internalStream(h||"nodebuffer").toNodejsStream(l)},_compressWorker:function(h,l){if(this._data instanceof y&&this._data.compression.magic===h.magic)return this._data.getCompressedWorker();var p=this._decompressWorker();return this._dataBinary||(p=p.pipe(new s.Utf8EncodeWorker)),y.createWorkerFrom(p,h,l)},_decompressWorker:function(){return this._data instanceof y?this._data.getContentWorker():this._data instanceof w?this._data:new a(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<g.length;c++)n.prototype[g[c]]=b;_.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,_,e){(function(n){"use strict";var r,a,s=n.MutationObserver||n.WebKitMutationObserver;if(s){var y=0,w=new s(h),g=n.document.createTextNode("");w.observe(g,{characterData:!0}),r=function(){g.data=y=++y%2}}else if(n.setImmediate||n.MessageChannel===void 0)r="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var l=n.document.createElement("script");l.onreadystatechange=function(){h(),l.onreadystatechange=null,l.parentNode.removeChild(l),l=null},n.document.documentElement.appendChild(l)}:function(){setTimeout(h,0)};else{var b=new n.MessageChannel;b.port1.onmessage=h,r=function(){b.port2.postMessage(0)}}var c=[];function h(){var l,p;a=!0;for(var d=c.length;d;){for(p=c,c=[],l=-1;++l<d;)p[l]();d=c.length}a=!1}_.exports=function(l){c.push(l)!==1||a||r()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,_,e){"use strict";var n=t("immediate");function r(){}var a={},s=["REJECTED"],y=["FULFILLED"],w=["PENDING"];function g(d){if(typeof d!="function")throw new TypeError("resolver must be a function");this.state=w,this.queue=[],this.outcome=void 0,d!==r&&l(this,d)}function b(d,m,x){this.promise=d,typeof m=="function"&&(this.onFulfilled=m,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function c(d,m,x){n(function(){var T;try{T=m(x)}catch(k){return a.reject(d,k)}T===d?a.reject(d,new TypeError("Cannot resolve promise with itself")):a.resolve(d,T)})}function h(d){var m=d&&d.then;if(d&&(typeof d=="object"||typeof d=="function")&&typeof m=="function")return function(){m.apply(d,arguments)}}function l(d,m){var x=!1;function T(z){x||(x=!0,a.reject(d,z))}function k(z){x||(x=!0,a.resolve(d,z))}var L=p(function(){m(k,T)});L.status==="error"&&T(L.value)}function p(d,m){var x={};try{x.value=d(m),x.status="success"}catch(T){x.status="error",x.value=T}return x}(_.exports=g).prototype.finally=function(d){if(typeof d!="function")return this;var m=this.constructor;return this.then(function(x){return m.resolve(d()).then(function(){return x})},function(x){return m.resolve(d()).then(function(){throw x})})},g.prototype.catch=function(d){return this.then(null,d)},g.prototype.then=function(d,m){if(typeof d!="function"&&this.state===y||typeof m!="function"&&this.state===s)return this;var x=new this.constructor(r);return this.state!==w?c(x,this.state===y?d:m,this.outcome):this.queue.push(new b(x,d,m)),x},b.prototype.callFulfilled=function(d){a.resolve(this.promise,d)},b.prototype.otherCallFulfilled=function(d){c(this.promise,this.onFulfilled,d)},b.prototype.callRejected=function(d){a.reject(this.promise,d)},b.prototype.otherCallRejected=function(d){c(this.promise,this.onRejected,d)},a.resolve=function(d,m){var x=p(h,m);if(x.status==="error")return a.reject(d,x.value);var T=x.value;if(T)l(d,T);else{d.state=y,d.outcome=m;for(var k=-1,L=d.queue.length;++k<L;)d.queue[k].callFulfilled(m)}return d},a.reject=function(d,m){d.state=s,d.outcome=m;for(var x=-1,T=d.queue.length;++x<T;)d.queue[x].callRejected(m);return d},g.resolve=function(d){return d instanceof this?d:a.resolve(new this(r),d)},g.reject=function(d){var m=new this(r);return a.reject(m,d)},g.all=function(d){var m=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=d.length,T=!1;if(!x)return this.resolve([]);for(var k=new Array(x),L=0,z=-1,N=new this(r);++z<x;)D(d[z],z);return N;function D(H,J){m.resolve(H).then(function(v){k[J]=v,++L!==x||T||(T=!0,a.resolve(N,k))},function(v){T||(T=!0,a.reject(N,v))})}},g.race=function(d){var m=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=d.length,T=!1;if(!x)return this.resolve([]);for(var k=-1,L=new this(r);++k<x;)z=d[k],m.resolve(z).then(function(N){T||(T=!0,a.resolve(L,N))},function(N){T||(T=!0,a.reject(L,N))});var z;return L}},{immediate:36}],38:[function(t,_,e){"use strict";var n={};(0,t("./lib/utils/common").assign)(n,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),_.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,_,e){"use strict";var n=t("./zlib/deflate"),r=t("./utils/common"),a=t("./utils/strings"),s=t("./zlib/messages"),y=t("./zlib/zstream"),w=Object.prototype.toString,g=0,b=-1,c=0,h=8;function l(d){if(!(this instanceof l))return new l(d);this.options=r.assign({level:b,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},d||{});var m=this.options;m.raw&&0<m.windowBits?m.windowBits=-m.windowBits:m.gzip&&0<m.windowBits&&m.windowBits<16&&(m.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var x=n.deflateInit2(this.strm,m.level,m.method,m.windowBits,m.memLevel,m.strategy);if(x!==g)throw new Error(s[x]);if(m.header&&n.deflateSetHeader(this.strm,m.header),m.dictionary){var T;if(T=typeof m.dictionary=="string"?a.string2buf(m.dictionary):w.call(m.dictionary)==="[object ArrayBuffer]"?new Uint8Array(m.dictionary):m.dictionary,(x=n.deflateSetDictionary(this.strm,T))!==g)throw new Error(s[x]);this._dict_set=!0}}function p(d,m){var x=new l(m);if(x.push(d,!0),x.err)throw x.msg||s[x.err];return x.result}l.prototype.push=function(d,m){var x,T,k=this.strm,L=this.options.chunkSize;if(this.ended)return!1;T=m===~~m?m:m===!0?4:0,typeof d=="string"?k.input=a.string2buf(d):w.call(d)==="[object ArrayBuffer]"?k.input=new Uint8Array(d):k.input=d,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new r.Buf8(L),k.next_out=0,k.avail_out=L),(x=n.deflate(k,T))!==1&&x!==g)return this.onEnd(x),!(this.ended=!0);k.avail_out!==0&&(k.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(r.shrinkBuf(k.output,k.next_out))):this.onData(r.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||k.avail_out===0)&&x!==1);return T===4?(x=n.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===g):T!==2||(this.onEnd(g),!(k.avail_out=0))},l.prototype.onData=function(d){this.chunks.push(d)},l.prototype.onEnd=function(d){d===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},e.Deflate=l,e.deflate=p,e.deflateRaw=function(d,m){return(m=m||{}).raw=!0,p(d,m)},e.gzip=function(d,m){return(m=m||{}).gzip=!0,p(d,m)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,_,e){"use strict";var n=t("./zlib/inflate"),r=t("./utils/common"),a=t("./utils/strings"),s=t("./zlib/constants"),y=t("./zlib/messages"),w=t("./zlib/zstream"),g=t("./zlib/gzheader"),b=Object.prototype.toString;function c(l){if(!(this instanceof c))return new c(l);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},l||{});var p=this.options;p.raw&&0<=p.windowBits&&p.windowBits<16&&(p.windowBits=-p.windowBits,p.windowBits===0&&(p.windowBits=-15)),!(0<=p.windowBits&&p.windowBits<16)||l&&l.windowBits||(p.windowBits+=32),15<p.windowBits&&p.windowBits<48&&!(15&p.windowBits)&&(p.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var d=n.inflateInit2(this.strm,p.windowBits);if(d!==s.Z_OK)throw new Error(y[d]);this.header=new g,n.inflateGetHeader(this.strm,this.header)}function h(l,p){var d=new c(p);if(d.push(l,!0),d.err)throw d.msg||y[d.err];return d.result}c.prototype.push=function(l,p){var d,m,x,T,k,L,z=this.strm,N=this.options.chunkSize,D=this.options.dictionary,H=!1;if(this.ended)return!1;m=p===~~p?p:p===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof l=="string"?z.input=a.binstring2buf(l):b.call(l)==="[object ArrayBuffer]"?z.input=new Uint8Array(l):z.input=l,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new r.Buf8(N),z.next_out=0,z.avail_out=N),(d=n.inflate(z,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&D&&(L=typeof D=="string"?a.string2buf(D):b.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,d=n.inflateSetDictionary(this.strm,L)),d===s.Z_BUF_ERROR&&H===!0&&(d=s.Z_OK,H=!1),d!==s.Z_STREAM_END&&d!==s.Z_OK)return this.onEnd(d),!(this.ended=!0);z.next_out&&(z.avail_out!==0&&d!==s.Z_STREAM_END&&(z.avail_in!==0||m!==s.Z_FINISH&&m!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=a.utf8border(z.output,z.next_out),T=z.next_out-x,k=a.buf2string(z.output,x),z.next_out=T,z.avail_out=N-T,T&&r.arraySet(z.output,z.output,x,T,0),this.onData(k)):this.onData(r.shrinkBuf(z.output,z.next_out)))),z.avail_in===0&&z.avail_out===0&&(H=!0)}while((0<z.avail_in||z.avail_out===0)&&d!==s.Z_STREAM_END);return d===s.Z_STREAM_END&&(m=s.Z_FINISH),m===s.Z_FINISH?(d=n.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===s.Z_OK):m!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(z.avail_out=0))},c.prototype.onData=function(l){this.chunks.push(l)},c.prototype.onEnd=function(l){l===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=l,this.msg=this.strm.msg},e.Inflate=c,e.inflate=h,e.inflateRaw=function(l,p){return(p=p||{}).raw=!0,h(l,p)},e.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,_,e){"use strict";var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";e.assign=function(s){for(var y=Array.prototype.slice.call(arguments,1);y.length;){var w=y.shift();if(w){if(typeof w!="object")throw new TypeError(w+"must be non-object");for(var g in w)w.hasOwnProperty(g)&&(s[g]=w[g])}}return s},e.shrinkBuf=function(s,y){return s.length===y?s:s.subarray?s.subarray(0,y):(s.length=y,s)};var r={arraySet:function(s,y,w,g,b){if(y.subarray&&s.subarray)s.set(y.subarray(w,w+g),b);else for(var c=0;c<g;c++)s[b+c]=y[w+c]},flattenChunks:function(s){var y,w,g,b,c,h;for(y=g=0,w=s.length;y<w;y++)g+=s[y].length;for(h=new Uint8Array(g),y=b=0,w=s.length;y<w;y++)c=s[y],h.set(c,b),b+=c.length;return h}},a={arraySet:function(s,y,w,g,b){for(var c=0;c<g;c++)s[b+c]=y[w+c]},flattenChunks:function(s){return[].concat.apply([],s)}};e.setTyped=function(s){s?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,r)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(n)},{}],42:[function(t,_,e){"use strict";var n=t("./common"),r=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var s=new n.Buf8(256),y=0;y<256;y++)s[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;function w(g,b){if(b<65537&&(g.subarray&&a||!g.subarray&&r))return String.fromCharCode.apply(null,n.shrinkBuf(g,b));for(var c="",h=0;h<b;h++)c+=String.fromCharCode(g[h]);return c}s[254]=s[254]=1,e.string2buf=function(g){var b,c,h,l,p,d=g.length,m=0;for(l=0;l<d;l++)(64512&(c=g.charCodeAt(l)))==55296&&l+1<d&&(64512&(h=g.charCodeAt(l+1)))==56320&&(c=65536+(c-55296<<10)+(h-56320),l++),m+=c<128?1:c<2048?2:c<65536?3:4;for(b=new n.Buf8(m),l=p=0;p<m;l++)(64512&(c=g.charCodeAt(l)))==55296&&l+1<d&&(64512&(h=g.charCodeAt(l+1)))==56320&&(c=65536+(c-55296<<10)+(h-56320),l++),c<128?b[p++]=c:(c<2048?b[p++]=192|c>>>6:(c<65536?b[p++]=224|c>>>12:(b[p++]=240|c>>>18,b[p++]=128|c>>>12&63),b[p++]=128|c>>>6&63),b[p++]=128|63&c);return b},e.buf2binstring=function(g){return w(g,g.length)},e.binstring2buf=function(g){for(var b=new n.Buf8(g.length),c=0,h=b.length;c<h;c++)b[c]=g.charCodeAt(c);return b},e.buf2string=function(g,b){var c,h,l,p,d=b||g.length,m=new Array(2*d);for(c=h=0;c<d;)if((l=g[c++])<128)m[h++]=l;else if(4<(p=s[l]))m[h++]=65533,c+=p-1;else{for(l&=p===2?31:p===3?15:7;1<p&&c<d;)l=l<<6|63&g[c++],p--;1<p?m[h++]=65533:l<65536?m[h++]=l:(l-=65536,m[h++]=55296|l>>10&1023,m[h++]=56320|1023&l)}return w(m,h)},e.utf8border=function(g,b){var c;for((b=b||g.length)>g.length&&(b=g.length),c=b-1;0<=c&&(192&g[c])==128;)c--;return c<0||c===0?b:c+s[g[c]]>b?c:b}},{"./common":41}],43:[function(t,_,e){"use strict";_.exports=function(n,r,a,s){for(var y=65535&n|0,w=n>>>16&65535|0,g=0;a!==0;){for(a-=g=2e3<a?2e3:a;w=w+(y=y+r[s++]|0)|0,--g;);y%=65521,w%=65521}return y|w<<16|0}},{}],44:[function(t,_,e){"use strict";_.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,_,e){"use strict";var n=function(){for(var r,a=[],s=0;s<256;s++){r=s;for(var y=0;y<8;y++)r=1&r?3988292384^r>>>1:r>>>1;a[s]=r}return a}();_.exports=function(r,a,s,y){var w=n,g=y+s;r^=-1;for(var b=y;b<g;b++)r=r>>>8^w[255&(r^a[b])];return-1^r}},{}],46:[function(t,_,e){"use strict";var n,r=t("../utils/common"),a=t("./trees"),s=t("./adler32"),y=t("./crc32"),w=t("./messages"),g=0,b=4,c=0,h=-2,l=-1,p=4,d=2,m=8,x=9,T=286,k=30,L=19,z=2*T+1,N=15,D=3,H=258,J=H+D+1,v=42,O=113,o=1,U=2,ne=3,P=4;function re(i,B){return i.msg=w[B],B}function $(i){return(i<<1)-(4<i?9:0)}function te(i){for(var B=i.length;0<=--B;)i[B]=0}function E(i){var B=i.state,F=B.pending;F>i.avail_out&&(F=i.avail_out),F!==0&&(r.arraySet(i.output,B.pending_buf,B.pending_out,F,i.next_out),i.next_out+=F,B.pending_out+=F,i.total_out+=F,i.avail_out-=F,B.pending-=F,B.pending===0&&(B.pending_out=0))}function S(i,B){a._tr_flush_block(i,0<=i.block_start?i.block_start:-1,i.strstart-i.block_start,B),i.block_start=i.strstart,E(i.strm)}function X(i,B){i.pending_buf[i.pending++]=B}function G(i,B){i.pending_buf[i.pending++]=B>>>8&255,i.pending_buf[i.pending++]=255&B}function W(i,B){var F,f,u=i.max_chain_length,C=i.strstart,A=i.prev_length,M=i.nice_match,I=i.strstart>i.w_size-J?i.strstart-(i.w_size-J):0,j=i.window,q=i.w_mask,V=i.prev,K=i.strstart+H,de=j[C+A-1],oe=j[C+A];i.prev_length>=i.good_match&&(u>>=2),M>i.lookahead&&(M=i.lookahead);do if(j[(F=B)+A]===oe&&j[F+A-1]===de&&j[F]===j[C]&&j[++F]===j[C+1]){C+=2,F++;do;while(j[++C]===j[++F]&&j[++C]===j[++F]&&j[++C]===j[++F]&&j[++C]===j[++F]&&j[++C]===j[++F]&&j[++C]===j[++F]&&j[++C]===j[++F]&&j[++C]===j[++F]&&C<K);if(f=H-(K-C),C=K-H,A<f){if(i.match_start=B,M<=(A=f))break;de=j[C+A-1],oe=j[C+A]}}while((B=V[B&q])>I&&--u!=0);return A<=i.lookahead?A:i.lookahead}function me(i){var B,F,f,u,C,A,M,I,j,q,V=i.w_size;do{if(u=i.window_size-i.lookahead-i.strstart,i.strstart>=V+(V-J)){for(r.arraySet(i.window,i.window,V,V,0),i.match_start-=V,i.strstart-=V,i.block_start-=V,B=F=i.hash_size;f=i.head[--B],i.head[B]=V<=f?f-V:0,--F;);for(B=F=V;f=i.prev[--B],i.prev[B]=V<=f?f-V:0,--F;);u+=V}if(i.strm.avail_in===0)break;if(A=i.strm,M=i.window,I=i.strstart+i.lookahead,j=u,q=void 0,q=A.avail_in,j<q&&(q=j),F=q===0?0:(A.avail_in-=q,r.arraySet(M,A.input,A.next_in,q,I),A.state.wrap===1?A.adler=s(A.adler,M,q,I):A.state.wrap===2&&(A.adler=y(A.adler,M,q,I)),A.next_in+=q,A.total_in+=q,q),i.lookahead+=F,i.lookahead+i.insert>=D)for(C=i.strstart-i.insert,i.ins_h=i.window[C],i.ins_h=(i.ins_h<<i.hash_shift^i.window[C+1])&i.hash_mask;i.insert&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[C+D-1])&i.hash_mask,i.prev[C&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=C,C++,i.insert--,!(i.lookahead+i.insert<D)););}while(i.lookahead<J&&i.strm.avail_in!==0)}function xe(i,B){for(var F,f;;){if(i.lookahead<J){if(me(i),i.lookahead<J&&B===g)return o;if(i.lookahead===0)break}if(F=0,i.lookahead>=D&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+D-1])&i.hash_mask,F=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),F!==0&&i.strstart-F<=i.w_size-J&&(i.match_length=W(i,F)),i.match_length>=D)if(f=a._tr_tally(i,i.strstart-i.match_start,i.match_length-D),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=D){for(i.match_length--;i.strstart++,i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+D-1])&i.hash_mask,F=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart,--i.match_length!=0;);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+1])&i.hash_mask;else f=a._tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(f&&(S(i,!1),i.strm.avail_out===0))return o}return i.insert=i.strstart<D-1?i.strstart:D-1,B===b?(S(i,!0),i.strm.avail_out===0?ne:P):i.last_lit&&(S(i,!1),i.strm.avail_out===0)?o:U}function ae(i,B){for(var F,f,u;;){if(i.lookahead<J){if(me(i),i.lookahead<J&&B===g)return o;if(i.lookahead===0)break}if(F=0,i.lookahead>=D&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+D-1])&i.hash_mask,F=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=D-1,F!==0&&i.prev_length<i.max_lazy_match&&i.strstart-F<=i.w_size-J&&(i.match_length=W(i,F),i.match_length<=5&&(i.strategy===1||i.match_length===D&&4096<i.strstart-i.match_start)&&(i.match_length=D-1)),i.prev_length>=D&&i.match_length<=i.prev_length){for(u=i.strstart+i.lookahead-D,f=a._tr_tally(i,i.strstart-1-i.prev_match,i.prev_length-D),i.lookahead-=i.prev_length-1,i.prev_length-=2;++i.strstart<=u&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+D-1])&i.hash_mask,F=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),--i.prev_length!=0;);if(i.match_available=0,i.match_length=D-1,i.strstart++,f&&(S(i,!1),i.strm.avail_out===0))return o}else if(i.match_available){if((f=a._tr_tally(i,0,i.window[i.strstart-1]))&&S(i,!1),i.strstart++,i.lookahead--,i.strm.avail_out===0)return o}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(f=a._tr_tally(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<D-1?i.strstart:D-1,B===b?(S(i,!0),i.strm.avail_out===0?ne:P):i.last_lit&&(S(i,!1),i.strm.avail_out===0)?o:U}function ce(i,B,F,f,u){this.good_length=i,this.max_lazy=B,this.nice_length=F,this.max_chain=f,this.func=u}function we(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*z),this.dyn_dtree=new r.Buf16(2*(2*k+1)),this.bl_tree=new r.Buf16(2*(2*L+1)),te(this.dyn_ltree),te(this.dyn_dtree),te(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(N+1),this.heap=new r.Buf16(2*T+1),te(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*T+1),te(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ge(i){var B;return i&&i.state?(i.total_in=i.total_out=0,i.data_type=d,(B=i.state).pending=0,B.pending_out=0,B.wrap<0&&(B.wrap=-B.wrap),B.status=B.wrap?v:O,i.adler=B.wrap===2?0:1,B.last_flush=g,a._tr_init(B),c):re(i,h)}function Be(i){var B=ge(i);return B===c&&function(F){F.window_size=2*F.w_size,te(F.head),F.max_lazy_match=n[F.level].max_lazy,F.good_match=n[F.level].good_length,F.nice_match=n[F.level].nice_length,F.max_chain_length=n[F.level].max_chain,F.strstart=0,F.block_start=0,F.lookahead=0,F.insert=0,F.match_length=F.prev_length=D-1,F.match_available=0,F.ins_h=0}(i.state),B}function Oe(i,B,F,f,u,C){if(!i)return h;var A=1;if(B===l&&(B=6),f<0?(A=0,f=-f):15<f&&(A=2,f-=16),u<1||x<u||F!==m||f<8||15<f||B<0||9<B||C<0||p<C)return re(i,h);f===8&&(f=9);var M=new we;return(i.state=M).strm=i,M.wrap=A,M.gzhead=null,M.w_bits=f,M.w_size=1<<M.w_bits,M.w_mask=M.w_size-1,M.hash_bits=u+7,M.hash_size=1<<M.hash_bits,M.hash_mask=M.hash_size-1,M.hash_shift=~~((M.hash_bits+D-1)/D),M.window=new r.Buf8(2*M.w_size),M.head=new r.Buf16(M.hash_size),M.prev=new r.Buf16(M.w_size),M.lit_bufsize=1<<u+6,M.pending_buf_size=4*M.lit_bufsize,M.pending_buf=new r.Buf8(M.pending_buf_size),M.d_buf=1*M.lit_bufsize,M.l_buf=3*M.lit_bufsize,M.level=B,M.strategy=C,M.method=F,Be(i)}n=[new ce(0,0,0,0,function(i,B){var F=65535;for(F>i.pending_buf_size-5&&(F=i.pending_buf_size-5);;){if(i.lookahead<=1){if(me(i),i.lookahead===0&&B===g)return o;if(i.lookahead===0)break}i.strstart+=i.lookahead,i.lookahead=0;var f=i.block_start+F;if((i.strstart===0||i.strstart>=f)&&(i.lookahead=i.strstart-f,i.strstart=f,S(i,!1),i.strm.avail_out===0)||i.strstart-i.block_start>=i.w_size-J&&(S(i,!1),i.strm.avail_out===0))return o}return i.insert=0,B===b?(S(i,!0),i.strm.avail_out===0?ne:P):(i.strstart>i.block_start&&(S(i,!1),i.strm.avail_out),o)}),new ce(4,4,8,4,xe),new ce(4,5,16,8,xe),new ce(4,6,32,32,xe),new ce(4,4,16,16,ae),new ce(8,16,32,32,ae),new ce(8,16,128,128,ae),new ce(8,32,128,256,ae),new ce(32,128,258,1024,ae),new ce(32,258,258,4096,ae)],e.deflateInit=function(i,B){return Oe(i,B,m,15,8,0)},e.deflateInit2=Oe,e.deflateReset=Be,e.deflateResetKeep=ge,e.deflateSetHeader=function(i,B){return i&&i.state?i.state.wrap!==2?h:(i.state.gzhead=B,c):h},e.deflate=function(i,B){var F,f,u,C;if(!i||!i.state||5<B||B<0)return i?re(i,h):h;if(f=i.state,!i.output||!i.input&&i.avail_in!==0||f.status===666&&B!==b)return re(i,i.avail_out===0?-5:h);if(f.strm=i,F=f.last_flush,f.last_flush=B,f.status===v)if(f.wrap===2)i.adler=0,X(f,31),X(f,139),X(f,8),f.gzhead?(X(f,(f.gzhead.text?1:0)+(f.gzhead.hcrc?2:0)+(f.gzhead.extra?4:0)+(f.gzhead.name?8:0)+(f.gzhead.comment?16:0)),X(f,255&f.gzhead.time),X(f,f.gzhead.time>>8&255),X(f,f.gzhead.time>>16&255),X(f,f.gzhead.time>>24&255),X(f,f.level===9?2:2<=f.strategy||f.level<2?4:0),X(f,255&f.gzhead.os),f.gzhead.extra&&f.gzhead.extra.length&&(X(f,255&f.gzhead.extra.length),X(f,f.gzhead.extra.length>>8&255)),f.gzhead.hcrc&&(i.adler=y(i.adler,f.pending_buf,f.pending,0)),f.gzindex=0,f.status=69):(X(f,0),X(f,0),X(f,0),X(f,0),X(f,0),X(f,f.level===9?2:2<=f.strategy||f.level<2?4:0),X(f,3),f.status=O);else{var A=m+(f.w_bits-8<<4)<<8;A|=(2<=f.strategy||f.level<2?0:f.level<6?1:f.level===6?2:3)<<6,f.strstart!==0&&(A|=32),A+=31-A%31,f.status=O,G(f,A),f.strstart!==0&&(G(f,i.adler>>>16),G(f,65535&i.adler)),i.adler=1}if(f.status===69)if(f.gzhead.extra){for(u=f.pending;f.gzindex<(65535&f.gzhead.extra.length)&&(f.pending!==f.pending_buf_size||(f.gzhead.hcrc&&f.pending>u&&(i.adler=y(i.adler,f.pending_buf,f.pending-u,u)),E(i),u=f.pending,f.pending!==f.pending_buf_size));)X(f,255&f.gzhead.extra[f.gzindex]),f.gzindex++;f.gzhead.hcrc&&f.pending>u&&(i.adler=y(i.adler,f.pending_buf,f.pending-u,u)),f.gzindex===f.gzhead.extra.length&&(f.gzindex=0,f.status=73)}else f.status=73;if(f.status===73)if(f.gzhead.name){u=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>u&&(i.adler=y(i.adler,f.pending_buf,f.pending-u,u)),E(i),u=f.pending,f.pending===f.pending_buf_size)){C=1;break}C=f.gzindex<f.gzhead.name.length?255&f.gzhead.name.charCodeAt(f.gzindex++):0,X(f,C)}while(C!==0);f.gzhead.hcrc&&f.pending>u&&(i.adler=y(i.adler,f.pending_buf,f.pending-u,u)),C===0&&(f.gzindex=0,f.status=91)}else f.status=91;if(f.status===91)if(f.gzhead.comment){u=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>u&&(i.adler=y(i.adler,f.pending_buf,f.pending-u,u)),E(i),u=f.pending,f.pending===f.pending_buf_size)){C=1;break}C=f.gzindex<f.gzhead.comment.length?255&f.gzhead.comment.charCodeAt(f.gzindex++):0,X(f,C)}while(C!==0);f.gzhead.hcrc&&f.pending>u&&(i.adler=y(i.adler,f.pending_buf,f.pending-u,u)),C===0&&(f.status=103)}else f.status=103;if(f.status===103&&(f.gzhead.hcrc?(f.pending+2>f.pending_buf_size&&E(i),f.pending+2<=f.pending_buf_size&&(X(f,255&i.adler),X(f,i.adler>>8&255),i.adler=0,f.status=O)):f.status=O),f.pending!==0){if(E(i),i.avail_out===0)return f.last_flush=-1,c}else if(i.avail_in===0&&$(B)<=$(F)&&B!==b)return re(i,-5);if(f.status===666&&i.avail_in!==0)return re(i,-5);if(i.avail_in!==0||f.lookahead!==0||B!==g&&f.status!==666){var M=f.strategy===2?function(I,j){for(var q;;){if(I.lookahead===0&&(me(I),I.lookahead===0)){if(j===g)return o;break}if(I.match_length=0,q=a._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++,q&&(S(I,!1),I.strm.avail_out===0))return o}return I.insert=0,j===b?(S(I,!0),I.strm.avail_out===0?ne:P):I.last_lit&&(S(I,!1),I.strm.avail_out===0)?o:U}(f,B):f.strategy===3?function(I,j){for(var q,V,K,de,oe=I.window;;){if(I.lookahead<=H){if(me(I),I.lookahead<=H&&j===g)return o;if(I.lookahead===0)break}if(I.match_length=0,I.lookahead>=D&&0<I.strstart&&(V=oe[K=I.strstart-1])===oe[++K]&&V===oe[++K]&&V===oe[++K]){de=I.strstart+H;do;while(V===oe[++K]&&V===oe[++K]&&V===oe[++K]&&V===oe[++K]&&V===oe[++K]&&V===oe[++K]&&V===oe[++K]&&V===oe[++K]&&K<de);I.match_length=H-(de-K),I.match_length>I.lookahead&&(I.match_length=I.lookahead)}if(I.match_length>=D?(q=a._tr_tally(I,1,I.match_length-D),I.lookahead-=I.match_length,I.strstart+=I.match_length,I.match_length=0):(q=a._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++),q&&(S(I,!1),I.strm.avail_out===0))return o}return I.insert=0,j===b?(S(I,!0),I.strm.avail_out===0?ne:P):I.last_lit&&(S(I,!1),I.strm.avail_out===0)?o:U}(f,B):n[f.level].func(f,B);if(M!==ne&&M!==P||(f.status=666),M===o||M===ne)return i.avail_out===0&&(f.last_flush=-1),c;if(M===U&&(B===1?a._tr_align(f):B!==5&&(a._tr_stored_block(f,0,0,!1),B===3&&(te(f.head),f.lookahead===0&&(f.strstart=0,f.block_start=0,f.insert=0))),E(i),i.avail_out===0))return f.last_flush=-1,c}return B!==b?c:f.wrap<=0?1:(f.wrap===2?(X(f,255&i.adler),X(f,i.adler>>8&255),X(f,i.adler>>16&255),X(f,i.adler>>24&255),X(f,255&i.total_in),X(f,i.total_in>>8&255),X(f,i.total_in>>16&255),X(f,i.total_in>>24&255)):(G(f,i.adler>>>16),G(f,65535&i.adler)),E(i),0<f.wrap&&(f.wrap=-f.wrap),f.pending!==0?c:1)},e.deflateEnd=function(i){var B;return i&&i.state?(B=i.state.status)!==v&&B!==69&&B!==73&&B!==91&&B!==103&&B!==O&&B!==666?re(i,h):(i.state=null,B===O?re(i,-3):c):h},e.deflateSetDictionary=function(i,B){var F,f,u,C,A,M,I,j,q=B.length;if(!i||!i.state||(C=(F=i.state).wrap)===2||C===1&&F.status!==v||F.lookahead)return h;for(C===1&&(i.adler=s(i.adler,B,q,0)),F.wrap=0,q>=F.w_size&&(C===0&&(te(F.head),F.strstart=0,F.block_start=0,F.insert=0),j=new r.Buf8(F.w_size),r.arraySet(j,B,q-F.w_size,F.w_size,0),B=j,q=F.w_size),A=i.avail_in,M=i.next_in,I=i.input,i.avail_in=q,i.next_in=0,i.input=B,me(F);F.lookahead>=D;){for(f=F.strstart,u=F.lookahead-(D-1);F.ins_h=(F.ins_h<<F.hash_shift^F.window[f+D-1])&F.hash_mask,F.prev[f&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=f,f++,--u;);F.strstart=f,F.lookahead=D-1,me(F)}return F.strstart+=F.lookahead,F.block_start=F.strstart,F.insert=F.lookahead,F.lookahead=0,F.match_length=F.prev_length=D-1,F.match_available=0,i.next_in=M,i.input=I,i.avail_in=A,F.wrap=C,c},e.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,_,e){"use strict";_.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,_,e){"use strict";_.exports=function(n,r){var a,s,y,w,g,b,c,h,l,p,d,m,x,T,k,L,z,N,D,H,J,v,O,o,U;a=n.state,s=n.next_in,o=n.input,y=s+(n.avail_in-5),w=n.next_out,U=n.output,g=w-(r-n.avail_out),b=w+(n.avail_out-257),c=a.dmax,h=a.wsize,l=a.whave,p=a.wnext,d=a.window,m=a.hold,x=a.bits,T=a.lencode,k=a.distcode,L=(1<<a.lenbits)-1,z=(1<<a.distbits)-1;e:do{x<15&&(m+=o[s++]<<x,x+=8,m+=o[s++]<<x,x+=8),N=T[m&L];t:for(;;){if(m>>>=D=N>>>24,x-=D,(D=N>>>16&255)===0)U[w++]=65535&N;else{if(!(16&D)){if(!(64&D)){N=T[(65535&N)+(m&(1<<D)-1)];continue t}if(32&D){a.mode=12;break e}n.msg="invalid literal/length code",a.mode=30;break e}H=65535&N,(D&=15)&&(x<D&&(m+=o[s++]<<x,x+=8),H+=m&(1<<D)-1,m>>>=D,x-=D),x<15&&(m+=o[s++]<<x,x+=8,m+=o[s++]<<x,x+=8),N=k[m&z];i:for(;;){if(m>>>=D=N>>>24,x-=D,!(16&(D=N>>>16&255))){if(!(64&D)){N=k[(65535&N)+(m&(1<<D)-1)];continue i}n.msg="invalid distance code",a.mode=30;break e}if(J=65535&N,x<(D&=15)&&(m+=o[s++]<<x,(x+=8)<D&&(m+=o[s++]<<x,x+=8)),c<(J+=m&(1<<D)-1)){n.msg="invalid distance too far back",a.mode=30;break e}if(m>>>=D,x-=D,(D=w-g)<J){if(l<(D=J-D)&&a.sane){n.msg="invalid distance too far back",a.mode=30;break e}if(O=d,(v=0)===p){if(v+=h-D,D<H){for(H-=D;U[w++]=d[v++],--D;);v=w-J,O=U}}else if(p<D){if(v+=h+p-D,(D-=p)<H){for(H-=D;U[w++]=d[v++],--D;);if(v=0,p<H){for(H-=D=p;U[w++]=d[v++],--D;);v=w-J,O=U}}}else if(v+=p-D,D<H){for(H-=D;U[w++]=d[v++],--D;);v=w-J,O=U}for(;2<H;)U[w++]=O[v++],U[w++]=O[v++],U[w++]=O[v++],H-=3;H&&(U[w++]=O[v++],1<H&&(U[w++]=O[v++]))}else{for(v=w-J;U[w++]=U[v++],U[w++]=U[v++],U[w++]=U[v++],2<(H-=3););H&&(U[w++]=U[v++],1<H&&(U[w++]=U[v++]))}break}}break}}while(s<y&&w<b);s-=H=x>>3,m&=(1<<(x-=H<<3))-1,n.next_in=s,n.next_out=w,n.avail_in=s<y?y-s+5:5-(s-y),n.avail_out=w<b?b-w+257:257-(w-b),a.hold=m,a.bits=x}},{}],49:[function(t,_,e){"use strict";var n=t("../utils/common"),r=t("./adler32"),a=t("./crc32"),s=t("./inffast"),y=t("./inftrees"),w=1,g=2,b=0,c=-2,h=1,l=852,p=592;function d(v){return(v>>>24&255)+(v>>>8&65280)+((65280&v)<<8)+((255&v)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(v){var O;return v&&v.state?(O=v.state,v.total_in=v.total_out=O.total=0,v.msg="",O.wrap&&(v.adler=1&O.wrap),O.mode=h,O.last=0,O.havedict=0,O.dmax=32768,O.head=null,O.hold=0,O.bits=0,O.lencode=O.lendyn=new n.Buf32(l),O.distcode=O.distdyn=new n.Buf32(p),O.sane=1,O.back=-1,b):c}function T(v){var O;return v&&v.state?((O=v.state).wsize=0,O.whave=0,O.wnext=0,x(v)):c}function k(v,O){var o,U;return v&&v.state?(U=v.state,O<0?(o=0,O=-O):(o=1+(O>>4),O<48&&(O&=15)),O&&(O<8||15<O)?c:(U.window!==null&&U.wbits!==O&&(U.window=null),U.wrap=o,U.wbits=O,T(v))):c}function L(v,O){var o,U;return v?(U=new m,(v.state=U).window=null,(o=k(v,O))!==b&&(v.state=null),o):c}var z,N,D=!0;function H(v){if(D){var O;for(z=new n.Buf32(512),N=new n.Buf32(32),O=0;O<144;)v.lens[O++]=8;for(;O<256;)v.lens[O++]=9;for(;O<280;)v.lens[O++]=7;for(;O<288;)v.lens[O++]=8;for(y(w,v.lens,0,288,z,0,v.work,{bits:9}),O=0;O<32;)v.lens[O++]=5;y(g,v.lens,0,32,N,0,v.work,{bits:5}),D=!1}v.lencode=z,v.lenbits=9,v.distcode=N,v.distbits=5}function J(v,O,o,U){var ne,P=v.state;return P.window===null&&(P.wsize=1<<P.wbits,P.wnext=0,P.whave=0,P.window=new n.Buf8(P.wsize)),U>=P.wsize?(n.arraySet(P.window,O,o-P.wsize,P.wsize,0),P.wnext=0,P.whave=P.wsize):(U<(ne=P.wsize-P.wnext)&&(ne=U),n.arraySet(P.window,O,o-U,ne,P.wnext),(U-=ne)?(n.arraySet(P.window,O,o-U,U,0),P.wnext=U,P.whave=P.wsize):(P.wnext+=ne,P.wnext===P.wsize&&(P.wnext=0),P.whave<P.wsize&&(P.whave+=ne))),0}e.inflateReset=T,e.inflateReset2=k,e.inflateResetKeep=x,e.inflateInit=function(v){return L(v,15)},e.inflateInit2=L,e.inflate=function(v,O){var o,U,ne,P,re,$,te,E,S,X,G,W,me,xe,ae,ce,we,ge,Be,Oe,i,B,F,f,u=0,C=new n.Buf8(4),A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!v||!v.state||!v.output||!v.input&&v.avail_in!==0)return c;(o=v.state).mode===12&&(o.mode=13),re=v.next_out,ne=v.output,te=v.avail_out,P=v.next_in,U=v.input,$=v.avail_in,E=o.hold,S=o.bits,X=$,G=te,B=b;e:for(;;)switch(o.mode){case h:if(o.wrap===0){o.mode=13;break}for(;S<16;){if($===0)break e;$--,E+=U[P++]<<S,S+=8}if(2&o.wrap&&E===35615){C[o.check=0]=255&E,C[1]=E>>>8&255,o.check=a(o.check,C,2,0),S=E=0,o.mode=2;break}if(o.flags=0,o.head&&(o.head.done=!1),!(1&o.wrap)||(((255&E)<<8)+(E>>8))%31){v.msg="incorrect header check",o.mode=30;break}if((15&E)!=8){v.msg="unknown compression method",o.mode=30;break}if(S-=4,i=8+(15&(E>>>=4)),o.wbits===0)o.wbits=i;else if(i>o.wbits){v.msg="invalid window size",o.mode=30;break}o.dmax=1<<i,v.adler=o.check=1,o.mode=512&E?10:12,S=E=0;break;case 2:for(;S<16;){if($===0)break e;$--,E+=U[P++]<<S,S+=8}if(o.flags=E,(255&o.flags)!=8){v.msg="unknown compression method",o.mode=30;break}if(57344&o.flags){v.msg="unknown header flags set",o.mode=30;break}o.head&&(o.head.text=E>>8&1),512&o.flags&&(C[0]=255&E,C[1]=E>>>8&255,o.check=a(o.check,C,2,0)),S=E=0,o.mode=3;case 3:for(;S<32;){if($===0)break e;$--,E+=U[P++]<<S,S+=8}o.head&&(o.head.time=E),512&o.flags&&(C[0]=255&E,C[1]=E>>>8&255,C[2]=E>>>16&255,C[3]=E>>>24&255,o.check=a(o.check,C,4,0)),S=E=0,o.mode=4;case 4:for(;S<16;){if($===0)break e;$--,E+=U[P++]<<S,S+=8}o.head&&(o.head.xflags=255&E,o.head.os=E>>8),512&o.flags&&(C[0]=255&E,C[1]=E>>>8&255,o.check=a(o.check,C,2,0)),S=E=0,o.mode=5;case 5:if(1024&o.flags){for(;S<16;){if($===0)break e;$--,E+=U[P++]<<S,S+=8}o.length=E,o.head&&(o.head.extra_len=E),512&o.flags&&(C[0]=255&E,C[1]=E>>>8&255,o.check=a(o.check,C,2,0)),S=E=0}else o.head&&(o.head.extra=null);o.mode=6;case 6:if(1024&o.flags&&($<(W=o.length)&&(W=$),W&&(o.head&&(i=o.head.extra_len-o.length,o.head.extra||(o.head.extra=new Array(o.head.extra_len)),n.arraySet(o.head.extra,U,P,W,i)),512&o.flags&&(o.check=a(o.check,U,W,P)),$-=W,P+=W,o.length-=W),o.length))break e;o.length=0,o.mode=7;case 7:if(2048&o.flags){if($===0)break e;for(W=0;i=U[P+W++],o.head&&i&&o.length<65536&&(o.head.name+=String.fromCharCode(i)),i&&W<$;);if(512&o.flags&&(o.check=a(o.check,U,W,P)),$-=W,P+=W,i)break e}else o.head&&(o.head.name=null);o.length=0,o.mode=8;case 8:if(4096&o.flags){if($===0)break e;for(W=0;i=U[P+W++],o.head&&i&&o.length<65536&&(o.head.comment+=String.fromCharCode(i)),i&&W<$;);if(512&o.flags&&(o.check=a(o.check,U,W,P)),$-=W,P+=W,i)break e}else o.head&&(o.head.comment=null);o.mode=9;case 9:if(512&o.flags){for(;S<16;){if($===0)break e;$--,E+=U[P++]<<S,S+=8}if(E!==(65535&o.check)){v.msg="header crc mismatch",o.mode=30;break}S=E=0}o.head&&(o.head.hcrc=o.flags>>9&1,o.head.done=!0),v.adler=o.check=0,o.mode=12;break;case 10:for(;S<32;){if($===0)break e;$--,E+=U[P++]<<S,S+=8}v.adler=o.check=d(E),S=E=0,o.mode=11;case 11:if(o.havedict===0)return v.next_out=re,v.avail_out=te,v.next_in=P,v.avail_in=$,o.hold=E,o.bits=S,2;v.adler=o.check=1,o.mode=12;case 12:if(O===5||O===6)break e;case 13:if(o.last){E>>>=7&S,S-=7&S,o.mode=27;break}for(;S<3;){if($===0)break e;$--,E+=U[P++]<<S,S+=8}switch(o.last=1&E,S-=1,3&(E>>>=1)){case 0:o.mode=14;break;case 1:if(H(o),o.mode=20,O!==6)break;E>>>=2,S-=2;break e;case 2:o.mode=17;break;case 3:v.msg="invalid block type",o.mode=30}E>>>=2,S-=2;break;case 14:for(E>>>=7&S,S-=7&S;S<32;){if($===0)break e;$--,E+=U[P++]<<S,S+=8}if((65535&E)!=(E>>>16^65535)){v.msg="invalid stored block lengths",o.mode=30;break}if(o.length=65535&E,S=E=0,o.mode=15,O===6)break e;case 15:o.mode=16;case 16:if(W=o.length){if($<W&&(W=$),te<W&&(W=te),W===0)break e;n.arraySet(ne,U,P,W,re),$-=W,P+=W,te-=W,re+=W,o.length-=W;break}o.mode=12;break;case 17:for(;S<14;){if($===0)break e;$--,E+=U[P++]<<S,S+=8}if(o.nlen=257+(31&E),E>>>=5,S-=5,o.ndist=1+(31&E),E>>>=5,S-=5,o.ncode=4+(15&E),E>>>=4,S-=4,286<o.nlen||30<o.ndist){v.msg="too many length or distance symbols",o.mode=30;break}o.have=0,o.mode=18;case 18:for(;o.have<o.ncode;){for(;S<3;){if($===0)break e;$--,E+=U[P++]<<S,S+=8}o.lens[A[o.have++]]=7&E,E>>>=3,S-=3}for(;o.have<19;)o.lens[A[o.have++]]=0;if(o.lencode=o.lendyn,o.lenbits=7,F={bits:o.lenbits},B=y(0,o.lens,0,19,o.lencode,0,o.work,F),o.lenbits=F.bits,B){v.msg="invalid code lengths set",o.mode=30;break}o.have=0,o.mode=19;case 19:for(;o.have<o.nlen+o.ndist;){for(;ce=(u=o.lencode[E&(1<<o.lenbits)-1])>>>16&255,we=65535&u,!((ae=u>>>24)<=S);){if($===0)break e;$--,E+=U[P++]<<S,S+=8}if(we<16)E>>>=ae,S-=ae,o.lens[o.have++]=we;else{if(we===16){for(f=ae+2;S<f;){if($===0)break e;$--,E+=U[P++]<<S,S+=8}if(E>>>=ae,S-=ae,o.have===0){v.msg="invalid bit length repeat",o.mode=30;break}i=o.lens[o.have-1],W=3+(3&E),E>>>=2,S-=2}else if(we===17){for(f=ae+3;S<f;){if($===0)break e;$--,E+=U[P++]<<S,S+=8}S-=ae,i=0,W=3+(7&(E>>>=ae)),E>>>=3,S-=3}else{for(f=ae+7;S<f;){if($===0)break e;$--,E+=U[P++]<<S,S+=8}S-=ae,i=0,W=11+(127&(E>>>=ae)),E>>>=7,S-=7}if(o.have+W>o.nlen+o.ndist){v.msg="invalid bit length repeat",o.mode=30;break}for(;W--;)o.lens[o.have++]=i}}if(o.mode===30)break;if(o.lens[256]===0){v.msg="invalid code -- missing end-of-block",o.mode=30;break}if(o.lenbits=9,F={bits:o.lenbits},B=y(w,o.lens,0,o.nlen,o.lencode,0,o.work,F),o.lenbits=F.bits,B){v.msg="invalid literal/lengths set",o.mode=30;break}if(o.distbits=6,o.distcode=o.distdyn,F={bits:o.distbits},B=y(g,o.lens,o.nlen,o.ndist,o.distcode,0,o.work,F),o.distbits=F.bits,B){v.msg="invalid distances set",o.mode=30;break}if(o.mode=20,O===6)break e;case 20:o.mode=21;case 21:if(6<=$&&258<=te){v.next_out=re,v.avail_out=te,v.next_in=P,v.avail_in=$,o.hold=E,o.bits=S,s(v,G),re=v.next_out,ne=v.output,te=v.avail_out,P=v.next_in,U=v.input,$=v.avail_in,E=o.hold,S=o.bits,o.mode===12&&(o.back=-1);break}for(o.back=0;ce=(u=o.lencode[E&(1<<o.lenbits)-1])>>>16&255,we=65535&u,!((ae=u>>>24)<=S);){if($===0)break e;$--,E+=U[P++]<<S,S+=8}if(ce&&!(240&ce)){for(ge=ae,Be=ce,Oe=we;ce=(u=o.lencode[Oe+((E&(1<<ge+Be)-1)>>ge)])>>>16&255,we=65535&u,!(ge+(ae=u>>>24)<=S);){if($===0)break e;$--,E+=U[P++]<<S,S+=8}E>>>=ge,S-=ge,o.back+=ge}if(E>>>=ae,S-=ae,o.back+=ae,o.length=we,ce===0){o.mode=26;break}if(32&ce){o.back=-1,o.mode=12;break}if(64&ce){v.msg="invalid literal/length code",o.mode=30;break}o.extra=15&ce,o.mode=22;case 22:if(o.extra){for(f=o.extra;S<f;){if($===0)break e;$--,E+=U[P++]<<S,S+=8}o.length+=E&(1<<o.extra)-1,E>>>=o.extra,S-=o.extra,o.back+=o.extra}o.was=o.length,o.mode=23;case 23:for(;ce=(u=o.distcode[E&(1<<o.distbits)-1])>>>16&255,we=65535&u,!((ae=u>>>24)<=S);){if($===0)break e;$--,E+=U[P++]<<S,S+=8}if(!(240&ce)){for(ge=ae,Be=ce,Oe=we;ce=(u=o.distcode[Oe+((E&(1<<ge+Be)-1)>>ge)])>>>16&255,we=65535&u,!(ge+(ae=u>>>24)<=S);){if($===0)break e;$--,E+=U[P++]<<S,S+=8}E>>>=ge,S-=ge,o.back+=ge}if(E>>>=ae,S-=ae,o.back+=ae,64&ce){v.msg="invalid distance code",o.mode=30;break}o.offset=we,o.extra=15&ce,o.mode=24;case 24:if(o.extra){for(f=o.extra;S<f;){if($===0)break e;$--,E+=U[P++]<<S,S+=8}o.offset+=E&(1<<o.extra)-1,E>>>=o.extra,S-=o.extra,o.back+=o.extra}if(o.offset>o.dmax){v.msg="invalid distance too far back",o.mode=30;break}o.mode=25;case 25:if(te===0)break e;if(W=G-te,o.offset>W){if((W=o.offset-W)>o.whave&&o.sane){v.msg="invalid distance too far back",o.mode=30;break}me=W>o.wnext?(W-=o.wnext,o.wsize-W):o.wnext-W,W>o.length&&(W=o.length),xe=o.window}else xe=ne,me=re-o.offset,W=o.length;for(te<W&&(W=te),te-=W,o.length-=W;ne[re++]=xe[me++],--W;);o.length===0&&(o.mode=21);break;case 26:if(te===0)break e;ne[re++]=o.length,te--,o.mode=21;break;case 27:if(o.wrap){for(;S<32;){if($===0)break e;$--,E|=U[P++]<<S,S+=8}if(G-=te,v.total_out+=G,o.total+=G,G&&(v.adler=o.check=o.flags?a(o.check,ne,G,re-G):r(o.check,ne,G,re-G)),G=te,(o.flags?E:d(E))!==o.check){v.msg="incorrect data check",o.mode=30;break}S=E=0}o.mode=28;case 28:if(o.wrap&&o.flags){for(;S<32;){if($===0)break e;$--,E+=U[P++]<<S,S+=8}if(E!==(4294967295&o.total)){v.msg="incorrect length check",o.mode=30;break}S=E=0}o.mode=29;case 29:B=1;break e;case 30:B=-3;break e;case 31:return-4;case 32:default:return c}return v.next_out=re,v.avail_out=te,v.next_in=P,v.avail_in=$,o.hold=E,o.bits=S,(o.wsize||G!==v.avail_out&&o.mode<30&&(o.mode<27||O!==4))&&J(v,v.output,v.next_out,G-v.avail_out)?(o.mode=31,-4):(X-=v.avail_in,G-=v.avail_out,v.total_in+=X,v.total_out+=G,o.total+=G,o.wrap&&G&&(v.adler=o.check=o.flags?a(o.check,ne,G,v.next_out-G):r(o.check,ne,G,v.next_out-G)),v.data_type=o.bits+(o.last?64:0)+(o.mode===12?128:0)+(o.mode===20||o.mode===15?256:0),(X==0&&G===0||O===4)&&B===b&&(B=-5),B)},e.inflateEnd=function(v){if(!v||!v.state)return c;var O=v.state;return O.window&&(O.window=null),v.state=null,b},e.inflateGetHeader=function(v,O){var o;return v&&v.state&&2&(o=v.state).wrap?((o.head=O).done=!1,b):c},e.inflateSetDictionary=function(v,O){var o,U=O.length;return v&&v.state?(o=v.state).wrap!==0&&o.mode!==11?c:o.mode===11&&r(1,O,U,0)!==o.check?-3:J(v,O,U,U)?(o.mode=31,-4):(o.havedict=1,b):c},e.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,_,e){"use strict";var n=t("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],y=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];_.exports=function(w,g,b,c,h,l,p,d){var m,x,T,k,L,z,N,D,H,J=d.bits,v=0,O=0,o=0,U=0,ne=0,P=0,re=0,$=0,te=0,E=0,S=null,X=0,G=new n.Buf16(16),W=new n.Buf16(16),me=null,xe=0;for(v=0;v<=15;v++)G[v]=0;for(O=0;O<c;O++)G[g[b+O]]++;for(ne=J,U=15;1<=U&&G[U]===0;U--);if(U<ne&&(ne=U),U===0)return h[l++]=20971520,h[l++]=20971520,d.bits=1,0;for(o=1;o<U&&G[o]===0;o++);for(ne<o&&(ne=o),v=$=1;v<=15;v++)if($<<=1,($-=G[v])<0)return-1;if(0<$&&(w===0||U!==1))return-1;for(W[1]=0,v=1;v<15;v++)W[v+1]=W[v]+G[v];for(O=0;O<c;O++)g[b+O]!==0&&(p[W[g[b+O]]++]=O);if(z=w===0?(S=me=p,19):w===1?(S=r,X-=257,me=a,xe-=257,256):(S=s,me=y,-1),v=o,L=l,re=O=E=0,T=-1,k=(te=1<<(P=ne))-1,w===1&&852<te||w===2&&592<te)return 1;for(;;){for(N=v-re,H=p[O]<z?(D=0,p[O]):p[O]>z?(D=me[xe+p[O]],S[X+p[O]]):(D=96,0),m=1<<v-re,o=x=1<<P;h[L+(E>>re)+(x-=m)]=N<<24|D<<16|H|0,x!==0;);for(m=1<<v-1;E&m;)m>>=1;if(m!==0?(E&=m-1,E+=m):E=0,O++,--G[v]==0){if(v===U)break;v=g[b+p[O]]}if(ne<v&&(E&k)!==T){for(re===0&&(re=ne),L+=o,$=1<<(P=v-re);P+re<U&&!(($-=G[P+re])<=0);)P++,$<<=1;if(te+=1<<P,w===1&&852<te||w===2&&592<te)return 1;h[T=E&k]=ne<<24|P<<16|L-l|0}}return E!==0&&(h[L+E]=v-re<<24|64<<16|0),d.bits=ne,0}},{"../utils/common":41}],51:[function(t,_,e){"use strict";_.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,_,e){"use strict";var n=t("../utils/common"),r=0,a=1;function s(u){for(var C=u.length;0<=--C;)u[C]=0}var y=0,w=29,g=256,b=g+1+w,c=30,h=19,l=2*b+1,p=15,d=16,m=7,x=256,T=16,k=17,L=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=new Array(2*(b+2));s(J);var v=new Array(2*c);s(v);var O=new Array(512);s(O);var o=new Array(256);s(o);var U=new Array(w);s(U);var ne,P,re,$=new Array(c);function te(u,C,A,M,I){this.static_tree=u,this.extra_bits=C,this.extra_base=A,this.elems=M,this.max_length=I,this.has_stree=u&&u.length}function E(u,C){this.dyn_tree=u,this.max_code=0,this.stat_desc=C}function S(u){return u<256?O[u]:O[256+(u>>>7)]}function X(u,C){u.pending_buf[u.pending++]=255&C,u.pending_buf[u.pending++]=C>>>8&255}function G(u,C,A){u.bi_valid>d-A?(u.bi_buf|=C<<u.bi_valid&65535,X(u,u.bi_buf),u.bi_buf=C>>d-u.bi_valid,u.bi_valid+=A-d):(u.bi_buf|=C<<u.bi_valid&65535,u.bi_valid+=A)}function W(u,C,A){G(u,A[2*C],A[2*C+1])}function me(u,C){for(var A=0;A|=1&u,u>>>=1,A<<=1,0<--C;);return A>>>1}function xe(u,C,A){var M,I,j=new Array(p+1),q=0;for(M=1;M<=p;M++)j[M]=q=q+A[M-1]<<1;for(I=0;I<=C;I++){var V=u[2*I+1];V!==0&&(u[2*I]=me(j[V]++,V))}}function ae(u){var C;for(C=0;C<b;C++)u.dyn_ltree[2*C]=0;for(C=0;C<c;C++)u.dyn_dtree[2*C]=0;for(C=0;C<h;C++)u.bl_tree[2*C]=0;u.dyn_ltree[2*x]=1,u.opt_len=u.static_len=0,u.last_lit=u.matches=0}function ce(u){8<u.bi_valid?X(u,u.bi_buf):0<u.bi_valid&&(u.pending_buf[u.pending++]=u.bi_buf),u.bi_buf=0,u.bi_valid=0}function we(u,C,A,M){var I=2*C,j=2*A;return u[I]<u[j]||u[I]===u[j]&&M[C]<=M[A]}function ge(u,C,A){for(var M=u.heap[A],I=A<<1;I<=u.heap_len&&(I<u.heap_len&&we(C,u.heap[I+1],u.heap[I],u.depth)&&I++,!we(C,M,u.heap[I],u.depth));)u.heap[A]=u.heap[I],A=I,I<<=1;u.heap[A]=M}function Be(u,C,A){var M,I,j,q,V=0;if(u.last_lit!==0)for(;M=u.pending_buf[u.d_buf+2*V]<<8|u.pending_buf[u.d_buf+2*V+1],I=u.pending_buf[u.l_buf+V],V++,M===0?W(u,I,C):(W(u,(j=o[I])+g+1,C),(q=z[j])!==0&&G(u,I-=U[j],q),W(u,j=S(--M),A),(q=N[j])!==0&&G(u,M-=$[j],q)),V<u.last_lit;);W(u,x,C)}function Oe(u,C){var A,M,I,j=C.dyn_tree,q=C.stat_desc.static_tree,V=C.stat_desc.has_stree,K=C.stat_desc.elems,de=-1;for(u.heap_len=0,u.heap_max=l,A=0;A<K;A++)j[2*A]!==0?(u.heap[++u.heap_len]=de=A,u.depth[A]=0):j[2*A+1]=0;for(;u.heap_len<2;)j[2*(I=u.heap[++u.heap_len]=de<2?++de:0)]=1,u.depth[I]=0,u.opt_len--,V&&(u.static_len-=q[2*I+1]);for(C.max_code=de,A=u.heap_len>>1;1<=A;A--)ge(u,j,A);for(I=K;A=u.heap[1],u.heap[1]=u.heap[u.heap_len--],ge(u,j,1),M=u.heap[1],u.heap[--u.heap_max]=A,u.heap[--u.heap_max]=M,j[2*I]=j[2*A]+j[2*M],u.depth[I]=(u.depth[A]>=u.depth[M]?u.depth[A]:u.depth[M])+1,j[2*A+1]=j[2*M+1]=I,u.heap[1]=I++,ge(u,j,1),2<=u.heap_len;);u.heap[--u.heap_max]=u.heap[1],function(oe,Fe){var dt,Ue,ut,_e,_t,Et,Ae=Fe.dyn_tree,Vt=Fe.max_code,Ci=Fe.stat_desc.static_tree,ki=Fe.stat_desc.has_stree,Ti=Fe.stat_desc.extra_bits,Ht=Fe.stat_desc.extra_base,pt=Fe.stat_desc.max_length,bt=0;for(_e=0;_e<=p;_e++)oe.bl_count[_e]=0;for(Ae[2*oe.heap[oe.heap_max]+1]=0,dt=oe.heap_max+1;dt<l;dt++)pt<(_e=Ae[2*Ae[2*(Ue=oe.heap[dt])+1]+1]+1)&&(_e=pt,bt++),Ae[2*Ue+1]=_e,Vt<Ue||(oe.bl_count[_e]++,_t=0,Ht<=Ue&&(_t=Ti[Ue-Ht]),Et=Ae[2*Ue],oe.opt_len+=Et*(_e+_t),ki&&(oe.static_len+=Et*(Ci[2*Ue+1]+_t)));if(bt!==0){do{for(_e=pt-1;oe.bl_count[_e]===0;)_e--;oe.bl_count[_e]--,oe.bl_count[_e+1]+=2,oe.bl_count[pt]--,bt-=2}while(0<bt);for(_e=pt;_e!==0;_e--)for(Ue=oe.bl_count[_e];Ue!==0;)Vt<(ut=oe.heap[--dt])||(Ae[2*ut+1]!==_e&&(oe.opt_len+=(_e-Ae[2*ut+1])*Ae[2*ut],Ae[2*ut+1]=_e),Ue--)}}(u,C),xe(j,de,u.bl_count)}function i(u,C,A){var M,I,j=-1,q=C[1],V=0,K=7,de=4;for(q===0&&(K=138,de=3),C[2*(A+1)+1]=65535,M=0;M<=A;M++)I=q,q=C[2*(M+1)+1],++V<K&&I===q||(V<de?u.bl_tree[2*I]+=V:I!==0?(I!==j&&u.bl_tree[2*I]++,u.bl_tree[2*T]++):V<=10?u.bl_tree[2*k]++:u.bl_tree[2*L]++,j=I,de=(V=0)===q?(K=138,3):I===q?(K=6,3):(K=7,4))}function B(u,C,A){var M,I,j=-1,q=C[1],V=0,K=7,de=4;for(q===0&&(K=138,de=3),M=0;M<=A;M++)if(I=q,q=C[2*(M+1)+1],!(++V<K&&I===q)){if(V<de)for(;W(u,I,u.bl_tree),--V!=0;);else I!==0?(I!==j&&(W(u,I,u.bl_tree),V--),W(u,T,u.bl_tree),G(u,V-3,2)):V<=10?(W(u,k,u.bl_tree),G(u,V-3,3)):(W(u,L,u.bl_tree),G(u,V-11,7));j=I,de=(V=0)===q?(K=138,3):I===q?(K=6,3):(K=7,4)}}s($);var F=!1;function f(u,C,A,M){G(u,(y<<1)+(M?1:0),3),function(I,j,q,V){ce(I),V&&(X(I,q),X(I,~q)),n.arraySet(I.pending_buf,I.window,j,q,I.pending),I.pending+=q}(u,C,A,!0)}e._tr_init=function(u){F||(function(){var C,A,M,I,j,q=new Array(p+1);for(I=M=0;I<w-1;I++)for(U[I]=M,C=0;C<1<<z[I];C++)o[M++]=I;for(o[M-1]=I,I=j=0;I<16;I++)for($[I]=j,C=0;C<1<<N[I];C++)O[j++]=I;for(j>>=7;I<c;I++)for($[I]=j<<7,C=0;C<1<<N[I]-7;C++)O[256+j++]=I;for(A=0;A<=p;A++)q[A]=0;for(C=0;C<=143;)J[2*C+1]=8,C++,q[8]++;for(;C<=255;)J[2*C+1]=9,C++,q[9]++;for(;C<=279;)J[2*C+1]=7,C++,q[7]++;for(;C<=287;)J[2*C+1]=8,C++,q[8]++;for(xe(J,b+1,q),C=0;C<c;C++)v[2*C+1]=5,v[2*C]=me(C,5);ne=new te(J,z,g+1,b,p),P=new te(v,N,0,c,p),re=new te(new Array(0),D,0,h,m)}(),F=!0),u.l_desc=new E(u.dyn_ltree,ne),u.d_desc=new E(u.dyn_dtree,P),u.bl_desc=new E(u.bl_tree,re),u.bi_buf=0,u.bi_valid=0,ae(u)},e._tr_stored_block=f,e._tr_flush_block=function(u,C,A,M){var I,j,q=0;0<u.level?(u.strm.data_type===2&&(u.strm.data_type=function(V){var K,de=4093624447;for(K=0;K<=31;K++,de>>>=1)if(1&de&&V.dyn_ltree[2*K]!==0)return r;if(V.dyn_ltree[18]!==0||V.dyn_ltree[20]!==0||V.dyn_ltree[26]!==0)return a;for(K=32;K<g;K++)if(V.dyn_ltree[2*K]!==0)return a;return r}(u)),Oe(u,u.l_desc),Oe(u,u.d_desc),q=function(V){var K;for(i(V,V.dyn_ltree,V.l_desc.max_code),i(V,V.dyn_dtree,V.d_desc.max_code),Oe(V,V.bl_desc),K=h-1;3<=K&&V.bl_tree[2*H[K]+1]===0;K--);return V.opt_len+=3*(K+1)+5+5+4,K}(u),I=u.opt_len+3+7>>>3,(j=u.static_len+3+7>>>3)<=I&&(I=j)):I=j=A+5,A+4<=I&&C!==-1?f(u,C,A,M):u.strategy===4||j===I?(G(u,2+(M?1:0),3),Be(u,J,v)):(G(u,4+(M?1:0),3),function(V,K,de,oe){var Fe;for(G(V,K-257,5),G(V,de-1,5),G(V,oe-4,4),Fe=0;Fe<oe;Fe++)G(V,V.bl_tree[2*H[Fe]+1],3);B(V,V.dyn_ltree,K-1),B(V,V.dyn_dtree,de-1)}(u,u.l_desc.max_code+1,u.d_desc.max_code+1,q+1),Be(u,u.dyn_ltree,u.dyn_dtree)),ae(u),M&&ce(u)},e._tr_tally=function(u,C,A){return u.pending_buf[u.d_buf+2*u.last_lit]=C>>>8&255,u.pending_buf[u.d_buf+2*u.last_lit+1]=255&C,u.pending_buf[u.l_buf+u.last_lit]=255&A,u.last_lit++,C===0?u.dyn_ltree[2*A]++:(u.matches++,C--,u.dyn_ltree[2*(o[A]+g+1)]++,u.dyn_dtree[2*S(C)]++),u.last_lit===u.lit_bufsize-1},e._tr_align=function(u){G(u,2,3),W(u,x,J),function(C){C.bi_valid===16?(X(C,C.bi_buf),C.bi_buf=0,C.bi_valid=0):8<=C.bi_valid&&(C.pending_buf[C.pending++]=255&C.bi_buf,C.bi_buf>>=8,C.bi_valid-=8)}(u)}},{"../utils/common":41}],53:[function(t,_,e){"use strict";_.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,_,e){(function(n){(function(r,a){"use strict";if(!r.setImmediate){var s,y,w,g,b=1,c={},h=!1,l=r.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(r);p=p&&p.setTimeout?p:r,s={}.toString.call(r.process)==="[object process]"?function(T){process.nextTick(function(){m(T)})}:function(){if(r.postMessage&&!r.importScripts){var T=!0,k=r.onmessage;return r.onmessage=function(){T=!1},r.postMessage("","*"),r.onmessage=k,T}}()?(g="setImmediate$"+Math.random()+"$",r.addEventListener?r.addEventListener("message",x,!1):r.attachEvent("onmessage",x),function(T){r.postMessage(g+T,"*")}):r.MessageChannel?((w=new MessageChannel).port1.onmessage=function(T){m(T.data)},function(T){w.port2.postMessage(T)}):l&&"onreadystatechange"in l.createElement("script")?(y=l.documentElement,function(T){var k=l.createElement("script");k.onreadystatechange=function(){m(T),k.onreadystatechange=null,y.removeChild(k),k=null},y.appendChild(k)}):function(T){setTimeout(m,0,T)},p.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var k=new Array(arguments.length-1),L=0;L<k.length;L++)k[L]=arguments[L+1];var z={callback:T,args:k};return c[b]=z,s(b),b++},p.clearImmediate=d}function d(T){delete c[T]}function m(T){if(h)setTimeout(m,0,T);else{var k=c[T];if(k){h=!0;try{(function(L){var z=L.callback,N=L.args;switch(N.length){case 0:z();break;case 1:z(N[0]);break;case 2:z(N[0],N[1]);break;case 3:z(N[0],N[1],N[2]);break;default:z.apply(a,N)}})(k)}finally{d(T),h=!1}}}}function x(T){T.source===r&&typeof T.data=="string"&&T.data.indexOf(g)===0&&m(+T.data.slice(g.length))}})(typeof self>"u"?n===void 0?this:n:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})});var xi=Si(li());var ci=(()=>{class t extends ct{pathId;ngOnInit(){this.pathId="url(#"+Tt()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ke(t)))(r||t)}})();static \u0275cmp=Se({type:t,selectors:[["PlusIcon"]],features:[De],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,r){n&1&&(Xe(),ee(0,"svg",0)(1,"g"),se(2,"path",1),ie(),ee(3,"defs")(4,"clipPath",2),se(5,"rect",3),ie()()()),n&2&&(Te(r.getClassNames()),le("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),Z(),le("clip-path",r.pathId),Z(3),R("id",r.pathId))},encapsulation:2})}return t})();var St=(()=>{class t extends ct{static \u0275fac=(()=>{let e;return function(r){return(e||(e=ke(t)))(r||t)}})();static \u0275cmp=Se({type:t,selectors:[["TimesIcon"]],features:[De],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(n,r){n&1&&(Xe(),ee(0,"svg",0),se(1,"path",1),ie()),n&2&&(Te(r.getClassNames()),le("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return t})();var di=(()=>{class t extends ct{pathId;ngOnInit(){this.pathId="url(#"+Tt()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ke(t)))(r||t)}})();static \u0275cmp=Se({type:t,selectors:[["UploadIcon"]],features:[De],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.58942 9.82197C6.70165 9.93405 6.85328 9.99793 7.012 10C7.17071 9.99793 7.32234 9.93405 7.43458 9.82197C7.54681 9.7099 7.61079 9.55849 7.61286 9.4V2.04798L9.79204 4.22402C9.84752 4.28011 9.91365 4.32457 9.98657 4.35479C10.0595 4.38502 10.1377 4.40039 10.2167 4.40002C10.2956 4.40039 10.3738 4.38502 10.4467 4.35479C10.5197 4.32457 10.5858 4.28011 10.6413 4.22402C10.7538 4.11152 10.817 3.95902 10.817 3.80002C10.817 3.64102 10.7538 3.48852 10.6413 3.37602L7.45127 0.190618C7.44656 0.185584 7.44176 0.180622 7.43687 0.175736C7.32419 0.063214 7.17136 0 7.012 0C6.85264 0 6.69981 0.063214 6.58712 0.175736C6.58181 0.181045 6.5766 0.186443 6.5715 0.191927L3.38282 3.37602C3.27669 3.48976 3.2189 3.6402 3.22165 3.79564C3.2244 3.95108 3.28746 4.09939 3.39755 4.20932C3.50764 4.31925 3.65616 4.38222 3.81182 4.38496C3.96749 4.3877 4.11814 4.33001 4.23204 4.22402L6.41113 2.04807V9.4C6.41321 9.55849 6.47718 9.7099 6.58942 9.82197ZM11.9952 14H2.02883C1.751 13.9887 1.47813 13.9228 1.22584 13.8061C0.973545 13.6894 0.746779 13.5241 0.558517 13.3197C0.370254 13.1154 0.22419 12.876 0.128681 12.6152C0.0331723 12.3545 -0.00990605 12.0775 0.0019109 11.8V9.40005C0.0019109 9.24092 0.065216 9.08831 0.1779 8.97579C0.290584 8.86326 0.443416 8.80005 0.602775 8.80005C0.762134 8.80005 0.914966 8.86326 1.02765 8.97579C1.14033 9.08831 1.20364 9.24092 1.20364 9.40005V11.8C1.18295 12.0376 1.25463 12.274 1.40379 12.4602C1.55296 12.6463 1.76817 12.7681 2.00479 12.8H11.9952C12.2318 12.7681 12.447 12.6463 12.5962 12.4602C12.7453 12.274 12.817 12.0376 12.7963 11.8V9.40005C12.7963 9.24092 12.8596 9.08831 12.9723 8.97579C13.085 8.86326 13.2378 8.80005 13.3972 8.80005C13.5565 8.80005 13.7094 8.86326 13.8221 8.97579C13.9347 9.08831 13.998 9.24092 13.998 9.40005V11.8C14.022 12.3563 13.8251 12.8996 13.45 13.3116C13.0749 13.7236 12.552 13.971 11.9952 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,r){n&1&&(Xe(),ee(0,"svg",0)(1,"g"),se(2,"path",1),ie(),ee(3,"defs")(4,"clipPath",2),se(5,"rect",3),ie()()()),n&2&&(Te(r.getClassNames()),le("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),Z(),le("clip-path",r.pathId),Z(3),R("id",r.pathId))},encapsulation:2})}return t})();var ui=(()=>{class t{el;zone;renderer;scope;dragEffect;dragHandle;onDragStart=new be;onDragEnd=new be;onDrag=new be;handle;dragListener;mouseDownListener;mouseUpListener;_pDraggableDisabled=!1;constructor(e,n,r){this.el=e,this.zone=n,this.renderer=r}get pDraggableDisabled(){return this._pDraggableDisabled}set pDraggableDisabled(e){this._pDraggableDisabled=e,this._pDraggableDisabled?this.unbindMouseListeners():(this.el.nativeElement.draggable=!0,this.bindMouseListeners())}ngAfterViewInit(){this.pDraggableDisabled||(this.el.nativeElement.draggable=!0,this.bindMouseListeners())}bindDragListener(){this.dragListener||this.zone.runOutsideAngular(()=>{this.dragListener=this.renderer.listen(this.el.nativeElement,"drag",this.drag.bind(this))})}unbindDragListener(){this.dragListener&&this.zone.runOutsideAngular(()=>{this.dragListener&&this.dragListener(),this.dragListener=null})}bindMouseListeners(){!this.mouseDownListener&&!this.mouseUpListener&&this.zone.runOutsideAngular(()=>{this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.mousedown.bind(this)),this.mouseUpListener=this.renderer.listen(this.el.nativeElement,"mouseup",this.mouseup.bind(this))})}unbindMouseListeners(){this.mouseDownListener&&this.mouseUpListener&&this.zone.runOutsideAngular(()=>{this.mouseDownListener&&this.mouseDownListener(),this.mouseUpListener&&this.mouseUpListener(),this.mouseDownListener=null,this.mouseUpListener=null})}drag(e){this.onDrag.emit(e)}dragStart(e){this.allowDrag()&&!this.pDraggableDisabled?(this.dragEffect&&(e.dataTransfer.effectAllowed=this.dragEffect),e.dataTransfer.setData("text",this.scope),this.onDragStart.emit(e),this.bindDragListener()):e.preventDefault()}dragEnd(e){this.onDragEnd.emit(e),this.unbindDragListener()}mousedown(e){this.handle=e.target}mouseup(e){this.handle=null}allowDrag(){return this.dragHandle&&this.handle?ri.matches(this.handle,this.dragHandle):!0}ngOnDestroy(){this.unbindDragListener(),this.unbindMouseListeners()}static \u0275fac=function(n){return new(n||t)(He(Ft),He(ht),He(Dt))};static \u0275dir=zt({type:t,selectors:[["","pDraggable",""]],hostBindings:function(n,r){n&1&&ve("dragstart",function(s){return r.dragStart(s)})("dragend",function(s){return r.dragEnd(s)})},inputs:{scope:[0,"pDraggable","scope"],dragEffect:"dragEffect",dragHandle:"dragHandle",pDraggableDisabled:"pDraggableDisabled"},outputs:{onDragStart:"onDragStart",onDragEnd:"onDragEnd",onDrag:"onDrag"}})}return t})(),pi=(()=>{class t{el;zone;renderer;scope;pDroppableDisabled=!1;dropEffect;onDragEnter=new be;onDragLeave=new be;onDrop=new be;constructor(e,n,r){this.el=e,this.zone=n,this.renderer=r}dragOverListener;ngAfterViewInit(){this.pDroppableDisabled||this.bindDragOverListener()}bindDragOverListener(){this.dragOverListener||this.zone.runOutsideAngular(()=>{this.dragOverListener=this.renderer.listen(this.el.nativeElement,"dragover",this.dragOver.bind(this))})}unbindDragOverListener(){this.dragOverListener&&this.zone.runOutsideAngular(()=>{this.dragOverListener&&this.dragOverListener(),this.dragOverListener=null})}dragOver(e){e.preventDefault()}drop(e){this.allowDrop(e)&&(at(this.el.nativeElement,"p-draggable-enter"),e.preventDefault(),this.onDrop.emit(e))}dragEnter(e){e.preventDefault(),this.dropEffect&&(e.dataTransfer.dropEffect=this.dropEffect),kt(this.el.nativeElement,"p-draggable-enter"),this.onDragEnter.emit(e)}dragLeave(e){e.preventDefault(),this.el.nativeElement.contains(e.relatedTarget)||(at(this.el.nativeElement,"p-draggable-enter"),this.onDragLeave.emit(e))}allowDrop(e){let n=e.dataTransfer.getData("text");if(typeof this.scope=="string"&&n==this.scope)return!0;if(Array.isArray(this.scope)){for(let r=0;r<this.scope.length;r++)if(n==this.scope[r])return!0}return!1}ngOnDestroy(){this.unbindDragOverListener()}static \u0275fac=function(n){return new(n||t)(He(Ft),He(ht),He(Dt))};static \u0275dir=zt({type:t,selectors:[["","pDroppable",""]],hostBindings:function(n,r){n&1&&ve("drop",function(s){return r.drop(s)})("dragenter",function(s){return r.dragEnter(s)})("dragleave",function(s){return r.dragLeave(s)})},inputs:{scope:[0,"pDroppable","scope"],pDroppableDisabled:[2,"pDroppableDisabled","pDroppableDisabled",Ie],dropEffect:"dropEffect"},outputs:{onDragEnter:"onDragEnter",onDragLeave:"onDragLeave",onDrop:"onDrop"},features:[Re]})}return t})(),fi=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Je({type:t});static \u0275inj=Ke({})}return t})();var Fi=({dt:t})=>`
.p-message {
    border-radius: ${t("message.border.radius")};
    outline-width: ${t("message.border.width")};
    outline-style: solid;
}

.p-message-content {
    display: flex;
    align-items: center;
    padding: ${t("message.content.padding")};
    gap: ${t("message.content.gap")};
    height: 100%;
}

.p-message-icon {
    flex-shrink: 0;
}

.p-message-close-button {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    margin-inline-start: auto;
    overflow: hidden;
    position: relative;
    width: ${t("message.close.button.width")};
    height: ${t("message.close.button.height")};
    border-radius: ${t("message.close.button.border.radius")};
    background: transparent;
    transition: background ${t("message.transition.duration")}, color ${t("message.transition.duration")}, outline-color ${t("message.transition.duration")}, box-shadow ${t("message.transition.duration")}, opacity 0.3s;
    outline-color: transparent;
    color: inherit;
    padding: 0;
    border: none;
    cursor: pointer;
    user-select: none;
}

.p-message-close-icon {
    font-size: ${t("message.close.icon.size")};
    width: ${t("message.close.icon.size")};
    height: ${t("message.close.icon.size")};
}

.p-message-close-button:focus-visible {
    outline-width: ${t("message.close.button.focus.ring.width")};
    outline-style: ${t("message.close.button.focus.ring.style")};
    outline-offset: ${t("message.close.button.focus.ring.offset")};
}

.p-message-info {
    background: ${t("message.info.background")};
    outline-color: ${t("message.info.border.color")};
    color: ${t("message.info.color")};
    box-shadow: ${t("message.info.shadow")};
}

.p-message-info .p-message-close-button:focus-visible {
    outline-color: ${t("message.info.close.button.focus.ring.color")};
    box-shadow: ${t("message.info.close.button.focus.ring.shadow")};
}

.p-message-info .p-message-close-button:hover {
    background: ${t("message.info.close.button.hover.background")};
}

.p-message-info.p-message-outlined {
    color: ${t("message.info.outlined.color")};
    outline-color: ${t("message.info.outlined.border.color")};
}

.p-message-info.p-message-simple {
    color: ${t("message.info.simple.color")};
}

.p-message-success {
    background: ${t("message.success.background")};
    outline-color: ${t("message.success.border.color")};
    color: ${t("message.success.color")};
    box-shadow: ${t("message.success.shadow")};
}

.p-message-success .p-message-close-button:focus-visible {
    outline-color: ${t("message.success.close.button.focus.ring.color")};
    box-shadow: ${t("message.success.close.button.focus.ring.shadow")};
}

.p-message-success .p-message-close-button:hover {
    background: ${t("message.success.close.button.hover.background")};
}

.p-message-success.p-message-outlined {
    color: ${t("message.success.outlined.color")};
    outline-color: ${t("message.success.outlined.border.color")};
}

.p-message-success.p-message-simple {
    color: ${t("message.success.simple.color")};
}

.p-message-warn {
    background: ${t("message.warn.background")};
    outline-color: ${t("message.warn.border.color")};
    color: ${t("message.warn.color")};
    box-shadow: ${t("message.warn.shadow")};
}

.p-message-warn .p-message-close-button:focus-visible {
    outline-color: ${t("message.warn.close.button.focus.ring.color")};
    box-shadow: ${t("message.warn.close.button.focus.ring.shadow")};
}

.p-message-warn .p-message-close-button:hover {
    background: ${t("message.warn.close.button.hover.background")};
}

.p-message-warn.p-message-outlined {
    color: ${t("message.warn.outlined.color")};
    outline-color: ${t("message.warn.outlined.border.color")};
}

.p-message-warn.p-message-simple {
    color: ${t("message.warn.simple.color")};
}

.p-message-error {
    background: ${t("message.error.background")};
    outline-color: ${t("message.error.border.color")};
    color: ${t("message.error.color")};
    box-shadow: ${t("message.error.shadow")};
}

.p-message-error .p-message-close-button:focus-visible {
    outline-color: ${t("message.error.close.button.focus.ring.color")};
    box-shadow: ${t("message.error.close.button.focus.ring.shadow")};
}

.p-message-error .p-message-close-button:hover {
    background: ${t("message.error.close.button.hover.background")};
}

.p-message-error.p-message-outlined {
    color: ${t("message.error.outlined.color")};
    outline-color: ${t("message.error.outlined.border.color")};
}

.p-message-error.p-message-simple {
    color: ${t("message.error.simple.color")};
}

.p-message-secondary {
    background: ${t("message.secondary.background")};
    outline-color: ${t("message.secondary.border.color")};
    color: ${t("message.secondary.color")};
    box-shadow: ${t("message.secondary.shadow")};
}

.p-message-secondary .p-message-close-button:focus-visible {
    outline-color: ${t("message.secondary.close.button.focus.ring.color")};
    box-shadow: ${t("message.secondary.close.button.focus.ring.shadow")};
}

.p-message-secondary .p-message-close-button:hover {
    background: ${t("message.secondary.close.button.hover.background")};
}

.p-message-secondary.p-message-outlined {
    color: ${t("message.secondary.outlined.color")};
    outline-color: ${t("message.secondary.outlined.border.color")};
}

.p-message-secondary.p-message-simple {
    color: ${t("message.secondary.simple.color")};
}

.p-message-contrast {
    background: ${t("message.contrast.background")};
    outline-color: ${t("message.contrast.border.color")};
    color: ${t("message.contrast.color")};
    box-shadow: ${t("message.contrast.shadow")};
}

.p-message-contrast .p-message-close-button:focus-visible {
    outline-color: ${t("message.contrast.close.button.focus.ring.color")};
    box-shadow: ${t("message.contrast.close.button.focus.ring.shadow")};
}

.p-message-contrast .p-message-close-button:hover {
    background: ${t("message.contrast.close.button.hover.background")};
}

.p-message-contrast.p-message-outlined {
    color: ${t("message.contrast.outlined.color")};
    outline-color: ${t("message.contrast.outlined.border.color")};
}

.p-message-contrast.p-message-simple {
    color: ${t("message.contrast.simple.color")};
}

.p-message-text {
    font-size: ${t("message.text.font.size")};
    font-weight: ${t("message.text.font.weight")};
}

.p-message-icon {
    font-size: ${t("message.icon.size")};
    width: ${t("message.icon.size")};
    height: ${t("message.icon.size")};
}

.p-message-enter-from {
    opacity: 0;
}

.p-message-enter-active {
    transition: opacity 0.3s;
}

.p-message.p-message-leave-from {
    max-height: 1000px;
}

.p-message.p-message-leave-to {
    max-height: 0;
    opacity: 0;
    margin: 0;
}

.p-message-leave-active {
    overflow: hidden;
    transition: max-height 0.45s cubic-bezier(0, 1, 0, 1), opacity 0.3s, margin 0.3s;
}

.p-message-leave-active .p-message-close-button {
    opacity: 0;
}

.p-message-sm .p-message-content {
    padding: ${t("message.content.sm.padding")};
}

.p-message-sm .p-message-text {
    font-size: ${t("message.text.sm.font.size")};
}

.p-message-sm .p-message-icon {
    font-size: ${t("message.icon.sm.size")};
    width: ${t("message.icon.sm.size")};
    height: ${t("message.icon.sm.size")};
}

.p-message-sm .p-message-close-icon {
    font-size: ${t("message.close.icon.sm.size")};
    width: ${t("message.close.icon.sm.size")};
    height: ${t("message.close.icon.sm.size")};
}

.p-message-lg .p-message-content {
    padding: ${t("message.content.lg.padding")};
}

.p-message-lg .p-message-text {
    font-size: ${t("message.text.lg.font.size")};
}

.p-message-lg .p-message-icon {
    font-size: ${t("message.icon.lg.size")};
    width: ${t("message.icon.lg.size")};
    height: ${t("message.icon.lg.size")};
}

.p-message-lg .p-message-close-icon {
    font-size: ${t("message.close.icon.lg.size")};
    width: ${t("message.close.icon.lg.size")};
    height: ${t("message.close.icon.lg.size")};
}

.p-message-outlined {
    background: transparent;
    outline-width: ${t("message.outlined.border.width")};
}

.p-message-simple {
    background: transparent;
    outline-color: transparent;
    box-shadow: none;
}

.p-message-simple .p-message-content {
    padding: ${t("message.simple.content.padding")};
}

.p-message-outlined .p-message-close-button:hover,
.p-message-simple .p-message-close-button:hover {
    background: transparent;
}`,Di={root:({props:t})=>["p-message p-component p-message-"+t.severity,{"p-message-simple":t.variant==="simple"}],content:"p-message-content",icon:"p-message-icon",text:"p-message-text",closeButton:"p-message-close-button",closeIcon:"p-message-close-icon"},hi=(()=>{class t extends st{name="message";theme=Fi;classes=Di;static \u0275fac=(()=>{let e;return function(r){return(e||(e=ke(t)))(r||t)}})();static \u0275prov=Ye({token:t,factory:t.\u0275fac})}return t})();var zi=["container"],Oi=["icon"],Bi=["closeicon"],Ui=["*"],Li=(t,_)=>({showTransitionParams:t,hideTransitionParams:_}),Ai=t=>({value:"visible()",params:t}),Mi=t=>({closeCallback:t});function Ri(t,_){t&1&&ze(0)}function Pi(t,_){if(t&1&&Y(0,Ri,1,0,"ng-container",7),t&2){let e=Q(2);R("ngTemplateOutlet",e.iconTemplate||e.iconTemplate)}}function Ni(t,_){if(t&1&&se(0,"i",3),t&2){let e=Q(2);R("ngClass",e.icon)}}function $i(t,_){if(t&1&&se(0,"span",9),t&2){let e=Q(3);R("ngClass",e.cx("text"))("innerHTML",e.text,Zt)}}function ji(t,_){if(t&1&&(ee(0,"div"),Y(1,$i,1,2,"span",8),ie()),t&2){let e=Q(2);Z(),R("ngIf",!e.escape)}}function Vi(t,_){if(t&1&&(ee(0,"span",5),Le(1),ie()),t&2){let e=Q(3);R("ngClass",e.cx("text")),Z(),Qe(e.text)}}function Hi(t,_){if(t&1&&Y(0,Vi,2,2,"span",10),t&2){let e=Q(2);R("ngIf",e.escape&&e.text)}}function Zi(t,_){t&1&&ze(0)}function Wi(t,_){if(t&1&&Y(0,Zi,1,0,"ng-container",11),t&2){let e=Q(2);R("ngTemplateOutlet",e.containerTemplate||e.containerTemplate)("ngTemplateOutletContext",Ge(2,Mi,e.close.bind(e)))}}function Qi(t,_){if(t&1&&(ee(0,"span",5),qt(1),ie()),t&2){let e=Q(2);R("ngClass",e.cx("text"))}}function Gi(t,_){if(t&1&&se(0,"i",13),t&2){let e=Q(3);R("ngClass",e.closeIcon)}}function qi(t,_){t&1&&ze(0)}function Yi(t,_){if(t&1&&Y(0,qi,1,0,"ng-container",7),t&2){let e=Q(3);R("ngTemplateOutlet",e.closeIconTemplate||e._closeIconTemplate)}}function Ki(t,_){t&1&&se(0,"TimesIcon",14)}function Xi(t,_){if(t&1){let e=Ee();ee(0,"button",12),ve("click",function(r){ue(e);let a=Q(2);return pe(a.close(r))}),Y(1,Gi,1,1,"i",13)(2,Yi,1,1,"ng-container")(3,Ki,1,0,"TimesIcon",14),ie()}if(t&2){let e=Q(2);Z(),Ce(e.closeIcon?1:-1),Z(),Ce(e.closeIconTemplate||e._closeIconTemplate?2:-1),Z(),Ce(!e.closeIconTemplate&&!e._closeIconTemplate&&!e.closeIcon?3:-1)}}function Ji(t,_){if(t&1&&(ee(0,"div",1)(1,"div",2),Y(2,Pi,1,1,"ng-container")(3,Ni,1,1,"i",3)(4,ji,2,1,"div",4)(5,Hi,1,1,"ng-template",null,0,gt)(7,Wi,1,4,"ng-container")(8,Qi,2,1,"span",5)(9,Xi,4,3,"button",6),ie()()),t&2){let e=Yt(6),n=Q();R("ngClass",n.containerClass)("@messageAnimation",Ge(13,Ai,yt(10,Li,n.showTransitionOptions,n.hideTransitionOptions))),le("aria-live","polite")("role","alert"),Z(2),Ce(n.iconTemplate||n._iconTemplate?2:-1),Z(),Ce(n.icon?3:-1),Z(),R("ngIf",!n.escape)("ngIfElse",e),Z(3),Ce(n.containerTemplate||n._containerTemplate?7:8),Z(2),Ce(n.closable?9:-1)}}var mi=(()=>{class t extends lt{severity="info";text;escape=!0;style;styleClass;closable=!1;icon;closeIcon;life;showTransitionOptions="300ms ease-out";hideTransitionOptions="200ms cubic-bezier(0.86, 0, 0.07, 1)";size;variant;onClose=new be;get containerClass(){let e=this.variant==="outlined"?"p-message-outlined":this.variant==="simple"?"p-message-simple":"",n=this.size==="small"?"p-message-sm":this.size==="large"?"p-message-lg":"";return`p-message-${this.severity} ${e} ${n}`.trim()+(this.styleClass?" "+this.styleClass:"")}visible=Wt(!0);_componentStyle=Me(hi);containerTemplate;iconTemplate;closeIconTemplate;templates;_containerTemplate;_iconTemplate;_closeIconTemplate;ngOnInit(){super.ngOnInit(),this.life&&setTimeout(()=>{this.visible.set(!1)},this.life)}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"container":this._containerTemplate=e.template;break;case"icon":this._iconTemplate=e.template;break;case"closeicon":this._closeIconTemplate=e.template;break}})}close(e){this.visible.set(!1),this.onClose.emit({originalEvent:e})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ke(t)))(r||t)}})();static \u0275cmp=Se({type:t,selectors:[["p-message"]],contentQueries:function(n,r,a){if(n&1&&(ye(a,zi,4),ye(a,Oi,4),ye(a,Bi,4),ye(a,ot,4)),n&2){let s;fe(s=he())&&(r.containerTemplate=s.first),fe(s=he())&&(r.iconTemplate=s.first),fe(s=he())&&(r.closeIconTemplate=s.first),fe(s=he())&&(r.templates=s)}},inputs:{severity:"severity",text:"text",escape:[2,"escape","escape",Ie],style:"style",styleClass:"styleClass",closable:[2,"closable","closable",Ie],icon:"icon",closeIcon:"closeIcon",life:"life",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",size:"size",variant:"variant"},outputs:{onClose:"onClose"},features:[tt([hi]),Re,De],ngContentSelectors:Ui,decls:1,vars:1,consts:[["escapeOut",""],[1,"p-message","p-component",3,"ngClass"],[1,"p-message-content"],[1,"p-message-icon",3,"ngClass"],[4,"ngIf","ngIfElse"],[3,"ngClass"],["pRipple","","type","button",1,"p-message-close-button"],[4,"ngTemplateOutlet"],[3,"ngClass","innerHTML",4,"ngIf"],[3,"ngClass","innerHTML"],[3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["pRipple","","type","button",1,"p-message-close-button",3,"click"],[1,"p-message-close-icon",3,"ngClass"],["styleClass","p-message-close-icon"]],template:function(n,r){n&1&&(Gt(),Y(0,Ji,10,15,"div",1)),n&2&&Ce(r.visible()?0:-1)},dependencies:[Ne,nt,Pe,rt,St,ai,$e],encapsulation:2,data:{animation:[ni("messageAnimation",[Rt(":enter",[Mt({opacity:0,transform:"translateY(-25%)"}),At("{{showTransitionParams}}")]),Rt(":leave",[At("{{hideTransitionParams}}",Mt({height:0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,opacity:0}))])])]},changeDetection:0})}return t})();var en=({dt:t})=>`
.p-progressbar {
    position: relative;
    overflow: hidden;
    height: ${t("progressbar.height")};
    background: ${t("progressbar.background")};
    border-radius: ${t("progressbar.border.radius")};
}

.p-progressbar-value {
    margin: 0;
    background: ${t("progressbar.value.background")};
}

.p-progressbar-label {
    color: ${t("progressbar.label.color")};
    font-size: ${t("progressbar.label.font.size")};
    font-weight: ${t("progressbar.label.font.weight")};
}

.p-progressbar-determinate .p-progressbar-value {
    height: 100%;
    width: 0%;
    position: absolute;
    display: none;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    transition: width 1s ease-in-out;
}

.p-progressbar-determinate .p-progressbar-label {
    display: inline-flex;
}

.p-progressbar-indeterminate .p-progressbar-value::before {
    content: "";
    position: absolute;
    background: inherit;
    top: 0;
    inset-inline-start: 0;
    bottom: 0;
    will-change: inset-inline-start, inset-inline-end;
    animation: p-progressbar-indeterminate-anim 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
}

.p-progressbar-indeterminate .p-progressbar-value::after {
    content: "";
    position: absolute;
    background: inherit;
    top: 0;
    inset-inline-start: 0;
    bottom: 0;
    will-change: inset-inline-start, inset-inline-end;
    animation: p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;
    animation-delay: 1.15s;
}

@-webkit-keyframes p-progressbar-indeterminate-anim {
    0% {
        inset-inline-start: -35%;
        inset-inline-end: 100%;
    }
    60% {
        inset-inline-start: 100%;
        inset-inline-end: -90%;
    }
    100% {
        inset-inline-start: 100%;
        inset-inline-end: -90%;
    }
}
@keyframes p-progressbar-indeterminate-anim {
    0% {
        inset-inline-start: -35%;
        inset-inline-end: 100%;
    }
    60% {
        inset-inline-start: 100%;
        inset-inline-end: -90%;
    }
    100% {
        inset-inline-start: 100%;
        inset-inline-end: -90%;
    }
}
@-webkit-keyframes p-progressbar-indeterminate-anim-short {
    0% {
        inset-inline-start: -200%;
        inset-inline-end: 100%;
    }
    60% {
        inset-inline-start: 107%;
        inset-inline-end: -8%;
    }
    100% {
        inset-inline-start: 107%;
        inset-inline-end: -8%;
    }
}
@keyframes p-progressbar-indeterminate-anim-short {
    0% {
        inset-inline-start: -200%;
        inset-inline-end: 100%;
    }
    60% {
        inset-inline-start: 107%;
        inset-inline-end: -8%;
    }
    100% {
        inset-inline-start: 107%;
        inset-inline-end: -8%;
    }
}
`,tn={root:({instance:t})=>["p-progressbar p-component",{"p-progressbar-determinate":t.determinate,"p-progressbar-indeterminate":t.indeterminate}],value:"p-progressbar-value",label:"p-progressbar-label"},gi=(()=>{class t extends st{name="progressbar";theme=en;classes=tn;static \u0275fac=(()=>{let e;return function(r){return(e||(e=ke(t)))(r||t)}})();static \u0275prov=Ye({token:t,factory:t.\u0275fac})}return t})();var nn=["content"],rn=(t,_)=>({"p-progressbar p-component":!0,"p-progressbar-determinate":t,"p-progressbar-indeterminate":_}),an=t=>({$implicit:t});function on(t,_){if(t&1&&(ee(0,"div"),Le(1),ie()),t&2){let e=Q(2);et("display",e.value!=null&&e.value!==0?"flex":"none"),le("data-pc-section","label"),Z(),Xt("",e.value,"",e.unit,"")}}function sn(t,_){t&1&&ze(0)}function ln(t,_){if(t&1&&(ee(0,"div",3)(1,"div",4),Y(2,on,2,5,"div",5)(3,sn,1,0,"ng-container",6),ie()()),t&2){let e=Q();Te(e.valueStyleClass),et("width",e.value+"%")("background",e.color),R("ngClass","p-progressbar-value p-progressbar-value-animate"),le("data-pc-section","value"),Z(2),R("ngIf",e.showValue&&!e.contentTemplate&&!e._contentTemplate),Z(),R("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",Ge(11,an,e.value))}}function cn(t,_){if(t&1&&(ee(0,"div",7),se(1,"div",8),ie()),t&2){let e=Q();Te(e.valueStyleClass),R("ngClass","p-progressbar-indeterminate-container"),le("data-pc-section","container"),Z(),et("background",e.color),le("data-pc-section","value")}}var _i=(()=>{class t extends lt{value;showValue=!0;styleClass;valueStyleClass;style;unit="%";mode="determinate";color;contentTemplate;_componentStyle=Me(gi);templates;_contentTemplate;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;default:this._contentTemplate=e.template}})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ke(t)))(r||t)}})();static \u0275cmp=Se({type:t,selectors:[["p-progressBar"],["p-progressbar"],["p-progress-bar"]],contentQueries:function(n,r,a){if(n&1&&(ye(a,nn,4),ye(a,ot,4)),n&2){let s;fe(s=he())&&(r.contentTemplate=s.first),fe(s=he())&&(r.templates=s)}},inputs:{value:[2,"value","value",it],showValue:[2,"showValue","showValue",Ie],styleClass:"styleClass",valueStyleClass:"valueStyleClass",style:"style",unit:"unit",mode:"mode",color:"color"},features:[tt([gi]),Re,De],decls:3,vars:14,consts:[["role","progressbar",3,"ngStyle","ngClass"],["style","display:flex",3,"ngClass","class","width","background",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[2,"display","flex",3,"ngClass"],[1,"p-progressbar-label"],[3,"display",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],[1,"p-progressbar-value","p-progressbar-value-animate"]],template:function(n,r){n&1&&(ee(0,"div",0),Y(1,ln,4,13,"div",1)(2,cn,2,7,"div",2),ie()),n&2&&(Te(r.styleClass),R("ngStyle",r.style)("ngClass",yt(11,rn,r.mode==="determinate",r.mode==="indeterminate")),le("aria-valuemin",0)("aria-valuenow",r.value)("aria-valuemax",100)("data-pc-name","progressbar")("data-pc-section","root"),Z(),R("ngIf",r.mode==="determinate"),Z(),R("ngIf",r.mode==="indeterminate"))},dependencies:[Ne,nt,Pe,rt,xt,$e],encapsulation:2,changeDetection:0})}return t})();var dn=({dt:t})=>`
.p-fileupload input[type="file"] {
    display: none;
}

.p-fileupload-advanced {
    border: 1px solid ${t("fileupload.border.color")};
    border-radius: ${t("fileupload.border.radius")};
    background: ${t("fileupload.background")};
    color: ${t("fileupload.color")};
}

.p-fileupload-header {
    display: flex;
    align-items: center;
    padding: ${t("fileupload.header.padding")};
    background: ${t("fileupload.header.background")};
    color: ${t("fileupload.header.color")};
    border-style: solid;
    border-width: ${t("fileupload.header.border.width")};
    border-color: ${t("fileupload.header.border.color")};
    border-radius: ${t("fileupload.header.border.radius")};
    gap: ${t("fileupload.header.gap")};
}

.p-fileupload-content {
    border: 1px solid transparent;
    display: flex;
    flex-direction: column;
    gap: ${t("fileupload.content.gap")};
    transition: border-color ${t("fileupload.transition.duration")};
    padding: ${t("fileupload.content.padding")};
}

.p-fileupload-content .p-progressbar {
    width: 100%;
    position: absolute;
    top: 0;
    left: 0;
    height: ${t("fileupload.progressbar.height")};
}

.p-fileupload-file-list {
    display: flex;
    flex-direction: column;
    gap: ${t("fileupload.filelist.gap")};
}

.p-fileupload-file {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    padding: ${t("fileupload.file.padding")};
    border-bottom: 1px solid ${t("fileupload.file.border.color")};
    gap: ${t("fileupload.file.gap")};
}

.p-fileupload-file:last-child {
    border-bottom: 0;
}

.p-fileupload-file-info {
    display: flex;
    flex-direction: column;
    gap: ${t("fileupload.file.info.gap")};
}

.p-fileupload-file-thumbnail {
    flex-shrink: 0;
}

.p-fileupload-file-actions {
    margin-left: auto;
}

.p-fileupload-highlight {
    border: 1px dashed ${t("fileupload.content.highlight.border.color")};
}

.p-fileupload-advanced .p-message {
    margin-top: 0;
}

.p-fileupload-basic {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: center;
    gap: ${t("fileupload.basic.gap")};
}
`,un={root:({instance:t})=>`p-fileupload p-fileupload-${t.mode} p-component`,header:"p-fileupload-header",pcChooseButton:"p-fileupload-choose-button",pcUploadButton:"p-fileupload-upload-button",pcCancelButton:"p-fileupload-cancel-button",content:"p-fileupload-content",fileList:"p-fileupload-file-list",file:"p-fileupload-file",fileThumbnail:"p-fileupload-file-thumbnail",fileInfo:"p-fileupload-file-info",fileName:"p-fileupload-file-name",fileSize:"p-fileupload-file-size",pcFileBadge:"p-fileupload-file-badge",fileActions:"p-fileupload-file-actions",pcFileRemoveButton:"p-fileupload-file-remove-button"},bi=(()=>{class t extends st{name="fileupload";theme=dn;classes=un;static \u0275fac=(()=>{let e;return function(r){return(e||(e=ke(t)))(r||t)}})();static \u0275prov=Ye({token:t,factory:t.\u0275fac})}return t})();var pn=["file"],fn=["header"],vi=["content"],hn=["toolbar"],mn=["chooseicon"],gn=["filelabel"],_n=["uploadicon"],bn=["cancelicon"],vn=["empty"],yn=["advancedfileinput"],wn=["basicfileinput"],xn=(t,_,e,n,r)=>({$implicit:t,uploadedFiles:_,chooseCallback:e,clearCallback:n,uploadCallback:r}),Cn=(t,_,e,n,r,a,s,y)=>({$implicit:t,uploadedFiles:_,chooseCallback:e,clearCallback:n,removeUploadedFileCallback:r,removeFileCallback:a,progress:s,messages:y}),kn=t=>({$implicit:t});function Tn(t,_){if(t&1&&se(0,"span"),t&2){let e=Q(3);Te(e.chooseIcon),le("aria-label",!0)("data-pc-section","chooseicon")}}function In(t,_){t&1&&se(0,"PlusIcon"),t&2&&le("aria-label",!0)("data-pc-section","chooseicon")}function Sn(t,_){}function En(t,_){t&1&&Y(0,Sn,0,0,"ng-template")}function Fn(t,_){if(t&1&&(ee(0,"span"),Y(1,En,1,0,null,11),ie()),t&2){let e=Q(4);le("aria-label",!0)("data-pc-section","chooseicon"),Z(),R("ngTemplateOutlet",e.chooseIconTemplate||e._chooseIconTemplate)}}function Dn(t,_){if(t&1&&(Ze(0),Y(1,In,1,2,"PlusIcon",9)(2,Fn,2,3,"span",9),We()),t&2){let e=Q(3);Z(),R("ngIf",!e.chooseIconTemplate&&!e._chooseIconTemplate),Z(),R("ngIf",e.chooseIconTemplate||e._chooseIconTemplate)}}function zn(t,_){if(t&1&&se(0,"span",21),t&2){let e=Q(4);R("ngClass",e.uploadIcon),le("aria-hidden",!0)}}function On(t,_){t&1&&se(0,"UploadIcon")}function Bn(t,_){}function Un(t,_){t&1&&Y(0,Bn,0,0,"ng-template")}function Ln(t,_){if(t&1&&(ee(0,"span"),Y(1,Un,1,0,null,11),ie()),t&2){let e=Q(5);le("aria-hidden",!0),Z(),R("ngTemplateOutlet",e.uploadIconTemplate||e._uploadIconTemplate)}}function An(t,_){if(t&1&&(Ze(0),Y(1,On,1,0,"UploadIcon",9)(2,Ln,2,2,"span",9),We()),t&2){let e=Q(4);Z(),R("ngIf",!e.uploadIconTemplate&&!e._uploadIconTemplate),Z(),R("ngIf",e.uploadIconTemplate||e._uploadIconTemplate)}}function Mn(t,_){if(t&1){let e=Ee();ee(0,"p-button",19),ve("onClick",function(){ue(e);let r=Q(3);return pe(r.upload())}),Y(1,zn,1,2,"span",20)(2,An,3,2,"ng-container",9),ie()}if(t&2){let e=Q(3);R("label",e.uploadButtonLabel)("disabled",!e.hasFiles()||e.isFileLimitExceeded())("styleClass","p-fileupload-upload-button "+e.uploadStyleClass)("buttonProps",e.uploadButtonProps),Z(),R("ngIf",e.uploadIcon),Z(),R("ngIf",!e.uploadIcon)}}function Rn(t,_){if(t&1&&se(0,"span",21),t&2){let e=Q(4);R("ngClass",e.cancelIcon)}}function Pn(t,_){t&1&&se(0,"TimesIcon"),t&2&&le("aria-hidden",!0)}function Nn(t,_){}function $n(t,_){t&1&&Y(0,Nn,0,0,"ng-template")}function jn(t,_){if(t&1&&(ee(0,"span"),Y(1,$n,1,0,null,11),ie()),t&2){let e=Q(5);le("aria-hidden",!0),Z(),R("ngTemplateOutlet",e.cancelIconTemplate||e._cancelIconTemplate)}}function Vn(t,_){if(t&1&&(Ze(0),Y(1,Pn,1,1,"TimesIcon",9)(2,jn,2,2,"span",9),We()),t&2){let e=Q(4);Z(),R("ngIf",!e.cancelIconTemplate&&!e._cancelIconTemplate),Z(),R("ngIf",e.cancelIconTemplate||e._cancelIconTemplate)}}function Hn(t,_){if(t&1){let e=Ee();ee(0,"p-button",19),ve("onClick",function(){ue(e);let r=Q(3);return pe(r.clear())}),Y(1,Rn,1,1,"span",20)(2,Vn,3,2,"ng-container",9),ie()}if(t&2){let e=Q(3);R("label",e.cancelButtonLabel)("disabled",!e.hasFiles()||e.uploading)("styleClass","p-fileupload-cancel-button "+e.cancelStyleClass)("buttonProps",e.cancelButtonProps),Z(),R("ngIf",e.cancelIcon),Z(),R("ngIf",!e.cancelIcon)}}function Zn(t,_){if(t&1){let e=Ee();Ze(0),ee(1,"p-button",16),ve("focus",function(){ue(e);let r=Q(2);return pe(r.onFocus())})("blur",function(){ue(e);let r=Q(2);return pe(r.onBlur())})("onClick",function(){ue(e);let r=Q(2);return pe(r.choose())})("keydown.enter",function(){ue(e);let r=Q(2);return pe(r.choose())}),ee(2,"input",7,0),ve("change",function(r){ue(e);let a=Q(2);return pe(a.onFileSelect(r))}),ie(),Y(4,Tn,1,4,"span",17)(5,Dn,3,2,"ng-container",9),ie(),Y(6,Mn,3,6,"p-button",18)(7,Hn,3,6,"p-button",18),We()}if(t&2){let e=Q(2);Z(),R("styleClass","p-fileupload-choose-button "+e.chooseStyleClass)("disabled",e.disabled||e.isChooseDisabled())("label",e.chooseButtonLabel)("buttonProps",e.chooseButtonProps),le("data-pc-section","choosebutton"),Z(),R("multiple",e.multiple)("accept",e.accept)("disabled",e.disabled||e.isChooseDisabled()),le("aria-label",e.browseFilesLabel)("title","")("data-pc-section","input"),Z(2),R("ngIf",e.chooseIcon),Z(),R("ngIf",!e.chooseIcon),Z(),R("ngIf",!e.auto&&e.showUploadButton),Z(),R("ngIf",!e.auto&&e.showCancelButton)}}function Wn(t,_){t&1&&ze(0)}function Qn(t,_){t&1&&ze(0)}function Gn(t,_){if(t&1&&se(0,"p-progressbar",22),t&2){let e=Q(2);R("value",e.progress)("showValue",!1)}}function qn(t,_){if(t&1&&se(0,"p-message",14),t&2){let e=_.$implicit;R("severity",e.severity)("text",e.text)}}function Yn(t,_){if(t&1){let e=Ee();ee(0,"img",33),ve("error",function(r){ue(e);let a=Q(5);return pe(a.imageError(r))}),ie()}if(t&2){let e=Q().$implicit,n=Q(4);R("src",e.objectURL,mt)("width",n.previewWidth)}}function Kn(t,_){t&1&&se(0,"TimesIcon")}function Xn(t,_){}function Jn(t,_){t&1&&Y(0,Xn,0,0,"ng-template")}function er(t,_){if(t&1&&Y(0,Kn,1,0,"TimesIcon",9)(1,Jn,1,0,null,11),t&2){let e=Q(5);R("ngIf",!e.cancelIconTemplate&&!e._cancelIconTemplate),Z(),R("ngTemplateOutlet",e.cancelIconTemplate||e._cancelIconTemplate)}}function tr(t,_){if(t&1){let e=Ee();ee(0,"div",24),Y(1,Yn,1,2,"img",27),ee(2,"div",28)(3,"div",29),Le(4),ie(),ee(5,"span",30),Le(6),ie()(),ee(7,"div",31)(8,"p-button",32),ve("onClick",function(r){let a=ue(e).index,s=Q(4);return pe(s.remove(r,a))}),Y(9,er,2,2,"ng-template",null,2,gt),ie()()()}if(t&2){let e=_.$implicit,n=Q(4);Z(),R("ngIf",n.isImage(e)),Z(3),Qe(e.name),Z(2),Qe(n.formatSize(e.size)),Z(2),R("disabled",n.uploading)("styleClass","p-fileupload-file-remove-button "+n.removeStyleClass)}}function ir(t,_){if(t&1&&Y(0,tr,11,5,"div",26),t&2){let e=Q(3);R("ngForOf",e.files)}}function nr(t,_){}function rr(t,_){if(t&1&&Y(0,nr,0,0,"ng-template",25),t&2){let e=Q(3);R("ngForOf",e.files)("ngForTemplate",e.fileTemplate||e._fileTemplate)}}function ar(t,_){if(t&1&&(ee(0,"div",23),Y(1,ir,1,1,"div",24)(2,rr,1,2,null,25),ie()),t&2){let e=Q(2);Z(),Ce(!e.fileTemplate&&!e._fileTemplate?1:-1),Z(),Ce(e.fileTemplate||e._fileTemplate?2:-1)}}function or(t,_){t&1&&ze(0)}function sr(t,_){t&1&&ze(0)}function lr(t,_){if(t&1&&Y(0,sr,1,0,"ng-container",11),t&2){let e=Q(2);R("ngTemplateOutlet",e.emptyTemplate||e._emptyTemplate)}}function cr(t,_){if(t&1){let e=Ee();ee(0,"div",6)(1,"input",7,0),ve("change",function(r){ue(e);let a=Q();return pe(a.onFileSelect(r))}),ie(),ee(3,"div",8),Y(4,Zn,8,15,"ng-container",9)(5,Wn,1,0,"ng-container",10)(6,Qn,1,0,"ng-container",11),ie(),ee(7,"div",12,1),ve("dragenter",function(r){ue(e);let a=Q();return pe(a.onDragEnter(r))})("dragleave",function(r){ue(e);let a=Q();return pe(a.onDragLeave(r))})("drop",function(r){ue(e);let a=Q();return pe(a.onDrop(r))}),Y(9,Gn,1,2,"p-progressbar",13),Bt(10,qn,1,2,"p-message",14,Ot),Y(12,ar,3,2,"div",15)(13,or,1,0,"ng-container",10)(14,lr,1,1,"ng-container"),ie()()}if(t&2){let e=Q();Te(e.styleClass),R("ngClass","p-fileupload p-fileupload-advanced p-component")("ngStyle",e.style),le("data-pc-name","fileupload")("data-pc-section","root"),Z(),et("display","none"),R("multiple",e.multiple)("accept",e.accept)("disabled",e.disabled||e.isChooseDisabled()),le("aria-label",e.browseFilesLabel)("title","")("data-pc-section","input"),Z(3),R("ngIf",!e.headerTemplate&&!e._headerTemplate),Z(),R("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)("ngTemplateOutletContext",Jt(24,xn,e.files,e.uploadedFiles,e.choose.bind(e),e.clear.bind(e),e.upload.bind(e))),Z(),R("ngTemplateOutlet",e.toolbarTemplate||e._toolbarTemplate),Z(),le("data-pc-section","content"),Z(2),R("ngIf",e.hasFiles()),Z(),Ut(e.msgs),Z(2),R("ngIf",e.hasFiles()),Z(),R("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",ei(30,Cn,e.files,e.uploadedFiles,e.choose.bind(e),e.clear.bind(e),e.removeUploadedFile.bind(e),e.remove.bind(e),e.progress,e.msgs)),Z(),Ce(e.emptyTemplate&&e._emptyTemplate&&!e.hasFiles()&&!e.hasUploadedFiles()?14:-1)}}function dr(t,_){if(t&1&&se(0,"p-message",14),t&2){let e=_.$implicit;R("severity",e.severity)("text",e.text)}}function ur(t,_){if(t&1&&se(0,"span",37),t&2){let e=Q(4);R("ngClass",e.uploadIcon)}}function pr(t,_){t&1&&se(0,"UploadIcon",40),t&2&&R("styleClass","p-button-icon p-button-icon-left")}function fr(t,_){}function hr(t,_){t&1&&Y(0,fr,0,0,"ng-template")}function mr(t,_){if(t&1&&(ee(0,"span",41),Y(1,hr,1,0,null,11),ie()),t&2){let e=Q(5);Z(),R("ngTemplateOutlet",e._uploadIconTemplate||e.uploadIconTemplate)}}function gr(t,_){if(t&1&&(Ze(0),Y(1,pr,1,1,"UploadIcon",38)(2,mr,2,1,"span",39),We()),t&2){let e=Q(4);Z(),R("ngIf",!e.uploadIconTemplate&&!e._uploadIconTemplate),Z(),R("ngIf",e._uploadIconTemplate||e.uploadIconTemplate)}}function _r(t,_){if(t&1&&Y(0,ur,1,1,"span",36)(1,gr,3,2,"ng-container",9),t&2){let e=Q(3);R("ngIf",e.uploadIcon),Z(),R("ngIf",!e.uploadIcon)}}function br(t,_){if(t&1&&se(0,"span",43),t&2){let e=Q(4);R("ngClass",e.chooseIcon)}}function vr(t,_){t&1&&se(0,"PlusIcon"),t&2&&le("data-pc-section","uploadicon")}function yr(t,_){}function wr(t,_){t&1&&Y(0,yr,0,0,"ng-template")}function xr(t,_){if(t&1&&(Ze(0),Y(1,vr,1,1,"PlusIcon",9)(2,wr,1,0,null,11),We()),t&2){let e=Q(4);Z(),R("ngIf",!e.chooseIconTemplate&&!e._chooseIconTemplate),Z(),R("ngTemplateOutlet",e.chooseIconTemplate||e._chooseIconTemplate)}}function Cr(t,_){if(t&1&&Y(0,br,1,1,"span",42)(1,xr,3,2,"ng-container",9),t&2){let e=Q(3);R("ngIf",e.chooseIcon),Z(),R("ngIf",!e.chooseIcon)}}function kr(t,_){if(t&1&&Y(0,_r,2,2)(1,Cr,2,2),t&2){let e=Q(2);Ce(e.hasFiles()&&!e.auto?0:1)}}function Tr(t,_){if(t&1&&(ee(0,"span"),Le(1),ie()),t&2){let e=Q(3);Te(e.cx("filelabel")),Z(),Kt(" ",e.basicFileChosenLabel()," ")}}function Ir(t,_){t&1&&ze(0)}function Sr(t,_){if(t&1&&Y(0,Ir,1,0,"ng-container",10),t&2){let e=Q(3);R("ngTemplateOutlet",e.fileLabelTemplate||e._fileLabelTemplate)("ngTemplateOutletContext",Ge(2,kn,e.files))}}function Er(t,_){if(t&1&&Y(0,Tr,2,3,"span",44)(1,Sr,1,4,"ng-container"),t&2){let e=Q(2);Ce(!e.fileLabelTemplate&&!e._fileLabelTemplate?0:1)}}function Fr(t,_){if(t&1){let e=Ee();ee(0,"div",21),Bt(1,dr,1,2,"p-message",14,Ot),ee(3,"p-button",34),ve("onClick",function(){ue(e);let r=Q();return pe(r.onBasicUploaderClick())})("keydown",function(r){ue(e);let a=Q();return pe(a.onBasicKeydown(r))}),Y(4,kr,2,1,"ng-template",null,2,gt),ee(6,"input",35,3),ve("change",function(r){ue(e);let a=Q();return pe(a.onFileSelect(r))})("focus",function(){ue(e);let r=Q();return pe(r.onFocus())})("blur",function(){ue(e);let r=Q();return pe(r.onBlur())}),ie()(),Y(8,Er,2,1),ie()}if(t&2){let e=Q();Te(e.styleClass),R("ngClass","p-fileupload p-fileupload-basic p-component"),le("data-pc-name","fileupload"),Z(),Ut(e.msgs),Z(2),Qt(e.style),R("styleClass","p-fileupload-choose-button "+e.chooseStyleClass)("disabled",e.disabled)("label",e.chooseButtonLabel)("buttonProps",e.chooseButtonProps),Z(3),R("accept",e.accept)("multiple",e.multiple)("disabled",e.disabled),le("aria-label",e.browseFilesLabel)("data-pc-section","input"),Z(2),Ce(e.auto?-1:8)}}var jt=(()=>{class t extends lt{name;url;method="post";multiple;accept;disabled;auto;withCredentials;maxFileSize;invalidFileSizeMessageSummary="{0}: Invalid file size, ";invalidFileSizeMessageDetail="maximum upload size is {0}.";invalidFileTypeMessageSummary="{0}: Invalid file type, ";invalidFileTypeMessageDetail="allowed file types: {0}.";invalidFileLimitMessageDetail="limit is {0} at most.";invalidFileLimitMessageSummary="Maximum number of files exceeded, ";style;styleClass;previewWidth=50;chooseLabel;uploadLabel;cancelLabel;chooseIcon;uploadIcon;cancelIcon;showUploadButton=!0;showCancelButton=!0;mode="advanced";headers;customUpload;fileLimit;uploadStyleClass;cancelStyleClass;removeStyleClass;chooseStyleClass;chooseButtonProps;uploadButtonProps={severity:"secondary"};cancelButtonProps={severity:"secondary"};onBeforeUpload=new be;onSend=new be;onUpload=new be;onError=new be;onClear=new be;onRemove=new be;onSelect=new be;onProgress=new be;uploadHandler=new be;onImageError=new be;onRemoveUploadedFile=new be;fileTemplate;headerTemplate;contentTemplate;toolbarTemplate;chooseIconTemplate;fileLabelTemplate;uploadIconTemplate;cancelIconTemplate;emptyTemplate;advancedFileInput;basicFileInput;content;set files(e){this._files=[];for(let n=0;n<e.length;n++){let r=e[n];this.validate(r)&&(this.isImage(r)&&(r.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(e[n]))),this._files.push(e[n]))}}get files(){return this._files}get basicButtonLabel(){return this.auto||!this.hasFiles()?this.chooseLabel:this.uploadLabel??this.files[0].name}_files=[];progress=0;dragHighlight;msgs;uploadedFileCount=0;focus;uploading;duplicateIEEvent;translationSubscription;dragOverListener;uploadedFiles=[];sanitizer=Me(ii);zone=Me(ht);http=Me(ti);_componentStyle=Me(bi);ngOnInit(){super.ngOnInit(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()})}ngAfterViewInit(){super.ngAfterViewInit(),Lt(this.platformId)&&this.mode==="advanced"&&this.zone.runOutsideAngular(()=>{this.content&&(this.dragOverListener=this.renderer.listen(this.content.nativeElement,"dragover",this.onDragOver.bind(this)))})}_headerTemplate;_contentTemplate;_toolbarTemplate;_chooseIconTemplate;_uploadIconTemplate;_cancelIconTemplate;_emptyTemplate;_fileTemplate;_fileLabelTemplate;templates;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this._headerTemplate=e.template;break;case"file":this._fileTemplate=e.template;break;case"content":this._contentTemplate=e.template;break;case"toolbar":this._toolbarTemplate=e.template;break;case"chooseicon":this._chooseIconTemplate=e.template;break;case"uploadicon":this._uploadIconTemplate=e.template;break;case"cancelicon":this._cancelIconTemplate=e.template;break;case"empty":this._emptyTemplate=e.template;break;case"filelabel":this._fileLabelTemplate=e.template;break;default:this._fileTemplate=e.template;break}})}basicFileChosenLabel(){return this.auto?this.chooseButtonLabel:this.hasFiles()?this.files&&this.files.length===1?this.files[0].name:this.config.getTranslation("fileChosenMessage")?.replace("{0}",this.files.length):this.config.getTranslation("noFileChosenMessage")||""}getTranslation(e){return this.config.getTranslation(e)}choose(){this.advancedFileInput?.nativeElement.click()}onFileSelect(e){if(e.type!=="drop"&&this.isIE11()&&this.duplicateIEEvent){this.duplicateIEEvent=!1;return}this.msgs=[],this.multiple||(this.files=[]);let n=e.dataTransfer?e.dataTransfer.files:e.target.files;for(let r=0;r<n.length;r++){let a=n[r];this.isFileSelected(a)||this.validate(a)&&(this.isImage(a)&&(a.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(n[r]))),this.files.push(n[r]))}this.onSelect.emit({originalEvent:e,files:n,currentFiles:this.files}),this.checkFileLimit(n),this.hasFiles()&&this.auto&&(this.mode!=="advanced"||!this.isFileLimitExceeded())&&this.upload(),e.type!=="drop"&&this.isIE11()?this.clearIEInput():this.clearInputElement()}isFileSelected(e){for(let n of this.files)if(n.name+n.type+n.size===e.name+e.type+e.size)return!0;return!1}isIE11(){if(Lt(this.platformId))return!!this.document.defaultView.MSInputMethodContext&&!!this.document.documentMode}validate(e){if(this.msgs=this.msgs||[],this.accept&&!this.isFileTypeValid(e)){let n=`${this.invalidFileTypeMessageSummary.replace("{0}",e.name)} ${this.invalidFileTypeMessageDetail.replace("{0}",this.accept)}`;return this.msgs.push({severity:"error",text:n}),!1}if(this.maxFileSize&&e.size>this.maxFileSize){let n=`${this.invalidFileSizeMessageSummary.replace("{0}",e.name)} ${this.invalidFileSizeMessageDetail.replace("{0}",this.formatSize(this.maxFileSize))}`;return this.msgs.push({severity:"error",text:n}),!1}return!0}isFileTypeValid(e){let n=this.accept?.split(",").map(r=>r.trim());for(let r of n)if(this.isWildcard(r)?this.getTypeClass(e.type)===this.getTypeClass(r):e.type==r||this.getFileExtension(e).toLowerCase()===r.toLowerCase())return!0;return!1}getTypeClass(e){return e.substring(0,e.indexOf("/"))}isWildcard(e){return e.indexOf("*")!==-1}getFileExtension(e){return"."+e.name.split(".").pop()}isImage(e){return/^image\//.test(e.type)}onImageLoad(e){window.URL.revokeObjectURL(e.src)}uploader(){if(this.customUpload)this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.uploadHandler.emit({files:this.files}),this.cd.markForCheck();else{this.uploading=!0,this.msgs=[];let e=new FormData;this.onBeforeUpload.emit({formData:e});for(let n=0;n<this.files.length;n++)e.append(this.name,this.files[n],this.files[n].name);this.http.request(this.method,this.url,{body:e,headers:this.headers,reportProgress:!0,observe:"events",withCredentials:this.withCredentials}).subscribe(n=>{switch(n.type){case Ct.Sent:this.onSend.emit({originalEvent:n,formData:e});break;case Ct.Response:this.uploading=!1,this.progress=0,n.status>=200&&n.status<300?(this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.onUpload.emit({originalEvent:n,files:this.files})):this.onError.emit({files:this.files}),this.uploadedFiles.push(...this.files),this.clear();break;case Ct.UploadProgress:{n.loaded&&(this.progress=Math.round(n.loaded*100/n.total)),this.onProgress.emit({originalEvent:n,progress:this.progress});break}}this.cd.markForCheck()},n=>{this.uploading=!1,this.onError.emit({files:this.files,error:n})})}}clear(){this.files=[],this.uploadedFileCount=0,this.onClear.emit(),this.clearInputElement(),this.cd.markForCheck()}remove(e,n){this.clearInputElement(),this.onRemove.emit({originalEvent:e,file:this.files[n]}),this.files.splice(n,1),this.checkFileLimit(this.files)}removeUploadedFile(e){let n=this.uploadedFiles.splice(e,1)[0];this.uploadedFiles=[...this.uploadedFiles],this.onRemoveUploadedFile.emit({file:n,files:this.uploadedFiles})}isFileLimitExceeded(){let n=this.auto?this.files.length:this.files.length+this.uploadedFileCount;return this.fileLimit&&this.fileLimit<=n&&this.focus&&(this.focus=!1),this.fileLimit&&this.fileLimit<n}isChooseDisabled(){return this.auto?this.fileLimit&&this.fileLimit<=this.files.length:this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount}checkFileLimit(e){this.msgs??=[];let n=this.msgs.length>0&&this.fileLimit<e.length;if(this.isFileLimitExceeded()||n){let r=`${this.invalidFileLimitMessageSummary.replace("{0}",this.fileLimit.toString())} ${this.invalidFileLimitMessageDetail.replace("{0}",this.fileLimit.toString())}`;this.msgs.push({severity:"error",text:r})}}clearInputElement(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.advancedFileInput.nativeElement.value=""),this.basicFileInput&&this.basicFileInput.nativeElement&&(this.basicFileInput.nativeElement.value="")}clearIEInput(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.duplicateIEEvent=!0,this.advancedFileInput.nativeElement.value="")}hasFiles(){return this.files&&this.files.length>0}hasUploadedFiles(){return this.uploadedFiles&&this.uploadedFiles.length>0}onDragEnter(e){this.disabled||(e.stopPropagation(),e.preventDefault())}onDragOver(e){this.disabled||(kt(this.content?.nativeElement,"p-fileupload-highlight"),this.dragHighlight=!0,e.stopPropagation(),e.preventDefault())}onDragLeave(e){this.disabled||at(this.content?.nativeElement,"p-fileupload-highlight")}onDrop(e){if(!this.disabled){at(this.content?.nativeElement,"p-fileupload-highlight"),e.stopPropagation(),e.preventDefault();let n=e.dataTransfer?e.dataTransfer.files:e.target.files;(this.multiple||n&&n.length===1)&&this.onFileSelect(e)}}onFocus(){this.focus=!0}onBlur(){this.focus=!1}formatSize(e){let a=this.getTranslation(je.FILE_SIZE_TYPES);if(e===0)return`0 ${a[0]}`;let s=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,s)).toFixed(3)} ${a[s]}`}upload(){this.hasFiles()&&this.uploader()}onBasicUploaderClick(){this.basicFileInput?.nativeElement.click()}onBasicKeydown(e){switch(e.code){case"Space":case"Enter":this.onBasicUploaderClick(),e.preventDefault();break}}imageError(e){this.onImageError.emit(e)}getBlockableElement(){return this.el.nativeElement.children[0]}get chooseButtonLabel(){return this.chooseLabel||this.config.getTranslation(je.CHOOSE)}get uploadButtonLabel(){return this.uploadLabel||this.config.getTranslation(je.UPLOAD)}get cancelButtonLabel(){return this.cancelLabel||this.config.getTranslation(je.CANCEL)}get browseFilesLabel(){return this.config.getTranslation(je.ARIA)[je.BROWSE_FILES]}get pendingLabel(){return this.config.getTranslation(je.PENDING)}ngOnDestroy(){this.content&&this.content.nativeElement&&this.dragOverListener&&(this.dragOverListener(),this.dragOverListener=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ke(t)))(r||t)}})();static \u0275cmp=Se({type:t,selectors:[["p-fileupload"],["p-fileUpload"]],contentQueries:function(n,r,a){if(n&1&&(ye(a,pn,4),ye(a,fn,4),ye(a,vi,4),ye(a,hn,4),ye(a,mn,4),ye(a,gn,4),ye(a,_n,4),ye(a,bn,4),ye(a,vn,4),ye(a,ot,4)),n&2){let s;fe(s=he())&&(r.fileTemplate=s.first),fe(s=he())&&(r.headerTemplate=s.first),fe(s=he())&&(r.contentTemplate=s.first),fe(s=he())&&(r.toolbarTemplate=s.first),fe(s=he())&&(r.chooseIconTemplate=s.first),fe(s=he())&&(r.fileLabelTemplate=s.first),fe(s=he())&&(r.uploadIconTemplate=s.first),fe(s=he())&&(r.cancelIconTemplate=s.first),fe(s=he())&&(r.emptyTemplate=s.first),fe(s=he())&&(r.templates=s)}},viewQuery:function(n,r){if(n&1&&(vt(yn,5),vt(wn,5),vt(vi,5)),n&2){let a;fe(a=he())&&(r.advancedFileInput=a.first),fe(a=he())&&(r.basicFileInput=a.first),fe(a=he())&&(r.content=a.first)}},inputs:{name:"name",url:"url",method:"method",multiple:[2,"multiple","multiple",Ie],accept:"accept",disabled:[2,"disabled","disabled",Ie],auto:[2,"auto","auto",Ie],withCredentials:[2,"withCredentials","withCredentials",Ie],maxFileSize:[2,"maxFileSize","maxFileSize",it],invalidFileSizeMessageSummary:"invalidFileSizeMessageSummary",invalidFileSizeMessageDetail:"invalidFileSizeMessageDetail",invalidFileTypeMessageSummary:"invalidFileTypeMessageSummary",invalidFileTypeMessageDetail:"invalidFileTypeMessageDetail",invalidFileLimitMessageDetail:"invalidFileLimitMessageDetail",invalidFileLimitMessageSummary:"invalidFileLimitMessageSummary",style:"style",styleClass:"styleClass",previewWidth:[2,"previewWidth","previewWidth",it],chooseLabel:"chooseLabel",uploadLabel:"uploadLabel",cancelLabel:"cancelLabel",chooseIcon:"chooseIcon",uploadIcon:"uploadIcon",cancelIcon:"cancelIcon",showUploadButton:[2,"showUploadButton","showUploadButton",Ie],showCancelButton:[2,"showCancelButton","showCancelButton",Ie],mode:"mode",headers:"headers",customUpload:[2,"customUpload","customUpload",Ie],fileLimit:[2,"fileLimit","fileLimit",e=>it(e,null)],uploadStyleClass:"uploadStyleClass",cancelStyleClass:"cancelStyleClass",removeStyleClass:"removeStyleClass",chooseStyleClass:"chooseStyleClass",chooseButtonProps:"chooseButtonProps",uploadButtonProps:"uploadButtonProps",cancelButtonProps:"cancelButtonProps",files:"files"},outputs:{onBeforeUpload:"onBeforeUpload",onSend:"onSend",onUpload:"onUpload",onError:"onError",onClear:"onClear",onRemove:"onRemove",onSelect:"onSelect",onProgress:"onProgress",uploadHandler:"uploadHandler",onImageError:"onImageError",onRemoveUploadedFile:"onRemoveUploadedFile"},features:[tt([bi]),Re,De],decls:2,vars:2,consts:[["advancedfileinput",""],["content",""],["icon",""],["basicfileinput",""],[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[3,"ngClass","ngStyle"],["type","file",3,"change","multiple","accept","disabled"],[1,"p-fileupload-header"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],[1,"p-fileupload-content",3,"dragenter","dragleave","drop"],[3,"value","showValue",4,"ngIf"],[3,"severity","text"],["class","p-fileupload-file-list",4,"ngIf"],["tabindex","0",3,"focus","blur","onClick","keydown.enter","styleClass","disabled","label","buttonProps"],[3,"class",4,"ngIf"],[3,"label","disabled","styleClass","buttonProps","onClick",4,"ngIf"],[3,"onClick","label","disabled","styleClass","buttonProps"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"value","showValue"],[1,"p-fileupload-file-list"],[1,"p-fileupload-file"],["ngFor","",3,"ngForOf","ngForTemplate"],["class","p-fileupload-file",4,"ngFor","ngForOf"],["class","p-fileupload-file-thumbnail",3,"src","width","error",4,"ngIf"],[1,"p-fileupload-file-info"],[1,"p-fileupload-file-name"],[1,"p-fileupload-file-size"],[1,"p-fileupload-file-actions"],["text","","rounded","","severity","danger",3,"onClick","disabled","styleClass"],[1,"p-fileupload-file-thumbnail",3,"error","src","width"],["tabindex","0",3,"onClick","keydown","styleClass","disabled","label","buttonProps"],["type","file",3,"change","focus","blur","accept","multiple","disabled"],["class","p-button-icon p-button-icon-left",3,"ngClass",4,"ngIf"],[1,"p-button-icon","p-button-icon-left",3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-button-icon p-button-icon-left",4,"ngIf"],[3,"styleClass"],[1,"p-button-icon","p-button-icon-left"],["class","p-button-icon p-button-icon-left pi",3,"ngClass",4,"ngIf"],[1,"p-button-icon","p-button-icon-left","pi",3,"ngClass"],[3,"class"]],template:function(n,r){n&1&&Y(0,cr,15,39,"div",4)(1,Fr,9,16,"div",5),n&2&&(R("ngIf",r.mode==="advanced"),Z(),R("ngIf",r.mode==="basic"))},dependencies:[Ne,nt,wt,Pe,rt,xt,It,_i,mi,ci,di,St,$e],encapsulation:2,changeDetection:0})}return t})(),yi=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Je({type:t});static \u0275inj=Ke({imports:[jt,$e,$e]})}return t})();function zr(t,_){if(t&1){let e=Ee();ee(0,"p-button",7),ve("onClick",function(){ue(e);let r=Q();return pe(r.generate())}),ie()}}function Or(t,_){if(t&1){let e=Ee();ee(0,"p-fileupload",8),ve("uploadHandler",function(r){ue(e);let a=Q();return pe(a.loadCharacters(r))}),ie()}t&2&&R("auto",!0)("multiple",!0)("customUpload",!0)}function Br(t,_){if(t&1){let e=Ee();ee(0,"div",9),ve("onDragStart",function(){let r=ue(e).index,a=Q();return pe(a.onDragStart(r))})("onDrop",function(){let r=ue(e).index,a=Q();return pe(a.onDrop(r))}),se(1,"img",10),ee(2,"span",11),Le(3),ie()()}if(t&2){let e=_.$implicit;Z(),R("src",e.image,mt),Z(2),Qe(e.filename)}}var Ve={width:624,height:804},wi=class t{bg;characters=[];draggedRank=0;constructor(){localStorage.getItem("bg")&&(this.bg=localStorage.getItem("bg"))}loadBg=_=>{let e=new FileReader;e.readAsDataURL(_.files[0]),e.onloadend=n=>{this.bg=n.target.result.toString(),localStorage.setItem("bg",this.bg)}};loadCharacters=_=>{let e=[];for(let n of _.files)e.push(new Promise(r=>{let a=new FileReader;a.readAsDataURL(n),a.onloadend=s=>r({filename:n.name,image:s.target.result.toString()})}));Promise.all(e).then(n=>{if(this.characters=n,localStorage.getItem("order")){let r=JSON.parse(localStorage.getItem("order"));this.characters.sort((a,s)=>r.indexOf(a.filename)-r.indexOf(s.filename))}})};onDragStart(_){this.draggedRank=_}onDrop(_){let e=this.characters[this.draggedRank];this.characters.splice(this.draggedRank,1),this.characters.splice(_,0,e)}generate=()=>{localStorage.setItem("order",JSON.stringify(this.characters.map(b=>b.filename)));let _=document.createElement("canvas"),e=document.getElementById("bg");_.width=e.naturalWidth,_.height=e.naturalHeight,_.getContext("2d").drawImage(e,0,0);let n=Math.min(this.characters.length,7),r=n<7?1:Math.ceil(this.characters.length/n),a={width:0,height:0,offsetX:0,offsetY:0},s=({width:b,height:c})=>b?b*Ve.height/Ve.width:c?c*Ve.width/Ve.height:0;e.naturalHeight>s({width:e.naturalWidth/n})*r?(a.width=e.naturalWidth/n,a.height=s({width:a.width}),a.offsetY=(e.naturalHeight-a.height*r)/2):(a.height=e.naturalHeight/r,a.width=s({height:a.height}),a.offsetX=(e.naturalWidth-a.width*n)/2),console.log(a);let y=0,w=0,g=new xi.default;for(let b of this.characters){let c=document.createElement("canvas");c.width=Ve.width,c.height=Ve.height,c.getContext("2d").drawImage(_,w*a.width+a.offsetX,y*a.height+a.offsetY,a.width,a.height,0,0,Ve.width,Ve.height),g.file(b.filename,c.toDataURL().split(",")[1],{base64:!0}),w===n-1?(w=0,y++):w++}g.generateAsync({type:"blob"}).then(b=>{let c=URL.createObjectURL(b),h=document.createElement("a");h.href=c,h.download="characters.zip",h.click(),URL.revokeObjectURL(c)})};static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Se({type:t,selectors:[["app-untile"]],decls:7,vars:6,consts:[[1,"container","mx-auto","text-center"],["label","Generate",3,"onClick",4,"ngIf"],["mode","basic","accept","image/*","chooseLabel","Characters","chooseIcon","pi pi-upload",3,"auto","multiple","customUpload","uploadHandler",4,"ngIf"],[1,"grid","grid-cols-7"],["class","relative cursor-move","pDraggable","character","pDroppable","character",3,"onDragStart","onDrop",4,"ngFor","ngForOf"],["mode","basic","accept","image/*","chooseLabel","Background","chooseIcon","pi pi-upload",3,"uploadHandler","auto","customUpload"],["id","bg",1,"block","w-full",3,"src"],["label","Generate",3,"onClick"],["mode","basic","accept","image/*","chooseLabel","Characters","chooseIcon","pi pi-upload",3,"uploadHandler","auto","multiple","customUpload"],["pDraggable","character","pDroppable","character",1,"relative","cursor-move",3,"onDragStart","onDrop"],[1,"pointer-events-none","block",3,"src"],[1,"absolute","left-0","top-0","w-full"]],template:function(e,n){e&1&&(ee(0,"div",0),Y(1,zr,1,0,"p-button",1)(2,Or,1,3,"p-fileupload",2),ee(3,"div",3),Y(4,Br,4,2,"div",4),ie(),ee(5,"p-fileupload",5),ve("uploadHandler",function(a){return n.loadBg(a)}),ie(),se(6,"img",6),ie()),e&2&&(Z(),R("ngIf",n.characters.length),Z(),R("ngIf",n.bg),Z(2),R("ngForOf",n.characters),Z(),R("auto",!0)("customUpload",!0),Z(),R("src",n.bg,mt))},dependencies:[yi,jt,Ne,wt,Pe,fi,ui,pi,oi,It],encapsulation:2})};export{wi as UntileComponent};
